WebORCA サーバ証明書入替対応について

WebORCA
サーバ証明書入替対応について
初版 2022年1月15日

1

WebORCA サーバ証明書入替対応
• 本資料はWebORCA サーバ証明書入替対応をまとめたものです。
• WebORCAリリース当初に設定していたサーバ証明書は独自の認証局で発行されたもので、
パブリック認証局からされたものではなく、各種ガイドラインにて推奨されたものではありません
でした。
• 各種ガイドラインで推奨されているパブリック認証局から発行されたサーバ証明書に対応す
るため、ブラウザから接続するURL、WebSocket(push-exchanger)、API(外部連携/
レセ電ビューア)の設定変更等を本資料にて説明します。
• なお、ベンダー/テナントのクライアント証明書は変更ありません。
いままでどおりご利用いただけます。

2

WebORCAサーバ証明書入替による変更点
WebORCA
テナント

旧証明書用接続先 → 廃止予定
本番環境：https://app.weborca.orcamo.jp/
デモ環境：https://app.demo.weborca.orcamo.jp/

旧-証

証明書の変更により接続先URLが下記の通りとなります。
WebORCA
本番環境：https://weborca.cloud.orcamo.jp/
デモ環境：https://demo-weborca.cloud.orcamo.jp/
API
本番環境：https://weborca.cloud.orcamo.jp/
デモ環境：https://demo-weborca.cloud.orcamo.jp/
WebSocket
本番環境：wss://weborca.cloud.orcamo.jp/ws
デモ環境：wss://demo-weborca.cloud.orcamo.jp/ws

新証明書用接続先
本番環境：https://weborca.cloud.orcamo.jp/
デモ環境：https://demo-weborca.cloud.orcamo.jp/

新-証

証明書変更により下記モジュールの設定変更が必要になります。
・Push-exchanger
・Claim-receiver
・レセ電ビューワ
・オンライン資格確認

3

WebORCA サーバ証明書入替対応(導入済みの場合)
• 以下の設定をおこなうことでパブリック認証局に発行されたサーバ証明書に対応可能です。
– Google Chromeの接続先
本番環境
https://app.weborca.orcamo.jp
↓
https://weborca.cloud.orcamo.jp
デモ環境
https://app.demo.weborca.orcamo.jp
↓
https://demo-weborca.cloud.orcamo.jp

4

WebORCA サーバ証明書入替対応(導入済みの場合)
– API
本番環境
https://app.weborca.orcamo.jp
↓
https://weborca.cloud.orcamo.jp
デモ環境
https://app.demo.weborca.orcamo.jp
↓
https://demo-weborca.cloud.orcamo.jp
※
パブリック認証局で発行されたサーバ証明書のため、CA証明書はOSもしくはブラウザの証明書ストアにインストー
ル済みです。
OSもしくはブラウザの証明書ストアにを参照していない場合は、下記よりCA証明書をダウンロードしてご利用くださ
い。
https://ftp.orca.med.or.jp/pub/data/weborca/root.crt

5

WebORCA サーバ証明書入替対応(導入済みの場合)
– WebSocket
本番環境
wss://app.weborca.orcamo.jp/ws
↓
wss://weborca.cloud.orcamo.jp/ws
デモ環境
wss://app.demo.weborca.orcamo.jp/ws
↓
wss://demo-weborca.cloud.orcamo.jp/ws
※
パブリック認証局で発行されたサーバ証明書のため、CA証明書はOSもしくはブラウザの証明書ストアにインストー
ル済みです。
OSもしくはブラウザの証明書ストアにを参照していない場合は、下記よりCA証明書をダウンロードしてご利用くださ
い。
https://ftp.orca.med.or.jp/pub/data/weborca/root.crt

6

WebORCA サーバ証明書入替対応(導入済みの場合)
– push-exchanger/onshi-shell/onshi-receiver
push-exchangerは対応したプログラムが必要です。下記よりダウンロードしてインストールしてください。
https://ftp.orca.med.or.jp/pub/data/receipt/download/windows/ginbee/push-exchanger-installer0.0.27.exe
本番環境
:ws_server:
↓
:ws_server:

api_server:
↓
api_server:

wss://app.weborca.orcamo.jp/ws
wss://weborca.cloud.orcamo.jp/ws

app.weborca.orcamo.jp
weborca.cloud.orcamo.jp

:ca_cert:欄はhttps://ftp.orca.med.or.jp/pub/data/weborca/root.crtよりダウンロードしたファイルを指
定

デモ環境
:ws_server:
↓
:ws_server:
api_server:
↓
api_server:

wss://app.demo.weborca.orcamo.jp/ws
wss://demo-weborca.cloud.orcamo.jp/ws
app.demo.weborca.orcamo.jp
demo-weborca.cloud.orcamo.jp

:ca_cert:欄はhttps://ftp.orca.med.or.jp/pub/data/weborca/root.crtよりダウンロードしたファイルを指
定

7

WebORCA サーバ証明書入替対応(導入済みの場合)
– レセ電ビューア

レセ電ビューアは対応したプログラムが必要です。下記よりダウンロードしてインストールしてください。
https://ftp.orca.med.or.jp/pub/receview/win/jma-receview.exe
本番環境
サーバ欄
https://app.weborca.orcamo.jp
↓
https://weborca.cloud.orcamo.jp
CA証明書ファイル欄
https://ftp.orca.med.or.jp/pub/data/weborca/root.crtよりダウンロードしたファイルを指定
デモ環境
サーバ欄
https://app.demo.weborca.orcamo.jp
↓
https://app.demo.weborca.orcamo.jp
CA証明書ファイル欄
https://ftp.orca.med.or.jp/pub/data/weborca/root.crtよりダウンロードしたファイルを指定

8

WebORCA サーバ証明書入替対応(導入済みの場合)
– CLAIM Receiver
本番環境
api_server:
app.weborca.orcamo.jp
↓
api_server:
weborca.cloud.orcamo.jp
:ca_cert:欄はhttps://ftp.orca.med.or.jp/pub/data/weborca/root.crtよりダウンロードし
たファイルを指定
デモ環境
api_server:
↓
api_server:

app.demo.weborca.orcamo.jp
demo-weborca.cloud.orcamo.jp

:ca_cert:欄はhttps://ftp.orca.med.or.jp/pub/data/weborca/root.crtよりダウンロードし
たファイルを指定

9

WebORCA サーバ証明書入替対応(新規導入)
• WebORCA新規導入の環境の場合は下記資料を参照してください。
– WebORCA運用環境移行手引き
https://www.orca.med.or.jp/weborca/#15
– CLAIM Receiver利用手順
https://www.orca.med.or.jp/weborca/#22
– レセ電ビューア
https://www.orca.med.or.jp/weborca/#26
– オンライン資格確認
https://www.orca.med.or.jp/weborca/#28

10

WebORCA 証明書の運用注意点
テナントのクライアント証明書の有効期間は“3年”です。
３年以内に更新をしてください。
期限が切れるとWebORCAに接続できなくなり、証明書の再発行に費用とお時間が掛かります。

証明書のテナント番号と有効期限が表
示されていますので、確認してください。

11

