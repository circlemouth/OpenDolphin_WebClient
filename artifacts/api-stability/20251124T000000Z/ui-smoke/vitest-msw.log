
> web-client@0.0.0 test
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.5 [39m[90m/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/web-client[39m

 [32mâœ“[39m src/features/charts/components/__tests__/patient-documents-panel.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 481[2mms[22m[39m
     [33m[2mâœ“[22m[39m opens preview window and notifies callback when available [33m 316[2mms[22m[39m
 [32mâœ“[39m src/features/charts/components/__tests__/problem-list-card.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 585[2mms[22m[39m
     [33m[2mâœ“[22m[39m renders sections and triggers primary/plan handlers [33m 577[2mms[22m[39m
 [32mâœ“[39m src/features/charts/components/__tests__/document-timeline-panel.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 622[2mms[22m[39m
     [33m[2mâœ“[22m[39m ãƒ•ã‚£ãƒ«ã‚¿åˆ‡æ›¿ã§ã‚¤ãƒ™ãƒ³ãƒˆé¸æŠã¨ãƒãƒ³ãƒ‰ãƒ©å‘¼ã³å‡ºã—ãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã™ã‚‹ [33m 620[2mms[22m[39m
 [32mâœ“[39m src/app/__tests__/AppShell.a11y.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 608[2mms[22m[39m
     [33m[2mâœ“[22m[39m should have no detectable accessibility violations [33m 607[2mms[22m[39m
 [32mâœ“[39m src/features/reception/components/__tests__/AppointmentManager.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 816[2mms[22m[39m
     [33m[2mâœ“[22m[39m notifies pending changes and disables close button while saving [33m 814[2mms[22m[39m
 [32mâœ“[39m src/features/charts/__tests__/stamp-tree.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/features/reception/components/__tests__/AppointmentManager.reminder.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 1366[2mms[22m[39m
     [33m[2mâœ“[22m[39m records reminder logs via appointment memo update [33m 1364[2mms[22m[39m
 [32mâœ“[39m src/features/replay-gap/__tests__/useReplayGapController.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 75[2mms[22m[39m
 [32mâœ“[39m src/features/reception/api/__tests__/appointment-api.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m src/features/schedule/api/__tests__/facility-schedule-api.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 22[2mms[22m[39m
[90mstdout[2m | src/libs/http/__tests__/httpClient.test.ts[2m > [22m[2mhttpClient[2m > [22m[2mapplies auth headers and emits audit events
[22m[39m[HTTP] GET /dummy {
  transitional: {
    silentJSONParsing: [33mtrue[39m,
    forcedJSONParsing: [33mtrue[39m,
    clarifyTimeoutError: [33mfalse[39m
  },
  adapter: [36m[AsyncFunction: adapter][39m,
  transformRequest: [ [36m[Function: transformRequest][39m ],
  transformResponse: [ [36m[Function: transformResponse][39m ],
  timeout: [33m10000[39m,
  xsrfCookieName: [32m'ODW_XSRF'[39m,
  xsrfHeaderName: [32m'X-CSRF-Token'[39m,
  maxContentLength: [33m-1[39m,
  maxBodyLength: [33m-1[39m,
  env: {
    FormData: [Function: FormData] [FormData] {
      LINE_BREAK: [32m'\r\n'[39m,
      DEFAULT_CONTENT_TYPE: [32m'application/octet-stream'[39m
    },
    Blob: [36m[class Blob][39m
  },
  validateStatus: [36m[Function: validateStatus][39m,
  headers: Object [AxiosHeaders] {
    [32m'Cache-Control'[39m: [32m'no-store'[39m,
    Pragma: [32m'no-cache'[39m,
    [32m'X-Requested-With'[39m: [32m'XMLHttpRequest'[39m,
    userName: [32m'0001:doctor01'[39m,
    password: [32m'hash'[39m,
    clientUUID: [32m'uuid'[39m,
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [90mundefined[39m,
    traceparent: [32m'00-00000000000000000000000000000000-0000000000000000-01'[39m,
    [32m'x-request-id'[39m: [32m'e68f7301-8474-4d1c-8952-fd036aad86ec'[39m
  },
  baseURL: [32m'/api'[39m,
  withCredentials: [33mtrue[39m,
  method: [32m'get'[39m,
  url: [32m'/dummy'[39m,
  allowAbsoluteUrls: [33mtrue[39m,
  metadata: {
    startTime: [33m1763971552927[39m,
    retryCount: [33m0[39m,
    rootSpan: NonRecordingSpan { _spanContext: [36m[Object][39m },
    attemptSpan: NonRecordingSpan { _spanContext: [36m[Object][39m },
    traceparent: [32m'00-00000000000000000000000000000000-0000000000000000-01'[39m,
    requestId: [32m'e68f7301-8474-4d1c-8952-fd036aad86ec'[39m
  }
}

[90mstdout[2m | src/libs/http/__tests__/httpClient.test.ts[2m > [22m[2mhttpClient[2m > [22m[2mapplies auth headers and emits audit events
[22m[39m[HTTP] /dummy completed in 2ms

[90mstdout[2m | src/libs/http/__tests__/httpClient.test.ts[2m > [22m[2mhttpClient[2m > [22m[2mretries on server errors and records error events
[22m[39m[HTTP] GET /retry {
  transitional: {
    silentJSONParsing: [33mtrue[39m,
    forcedJSONParsing: [33mtrue[39m,
    clarifyTimeoutError: [33mfalse[39m
  },
  adapter: [Function: Mock] {
    _isMockFunction: [33mtrue[39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mock: {
      calls: [],
      contexts: [],
      instances: [],
      invocationCallOrder: [],
      settledResults: [],
      results: [],
      lastCall: [36m[Getter][39m
    },
    mockImplementation: [36m[Function: mockImplementation][39m,
    mockImplementationOnce: [36m[Function: mockImplementationOnce][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function: mockReturnThis][39m,
    mockReturnValue: [36m[Function: mockReturnValue][39m,
    mockReturnValueOnce: [36m[Function: mockReturnValueOnce][39m,
    mockResolvedValue: [36m[Function: mockResolvedValue][39m,
    mockResolvedValueOnce: [36m[Function: mockResolvedValueOnce][39m,
    mockRejectedValue: [36m[Function: mockRejectedValue][39m,
    mockRejectedValueOnce: [36m[Function: mockRejectedValueOnce][39m,
    mockClear: [36m[Function: mockClear][39m,
    mockReset: [36m[Function: mockReset][39m,
    mockRestore: [36m[Function: mockRestore][39m,
    mockName: [36m[Function: mockName][39m,
    getMockName: [36m[Function: getMockName][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  transformRequest: [ [36m[Function: transformRequest][39m ],
  transformResponse: [ [36m[Function: transformResponse][39m ],
  timeout: [33m10000[39m,
  xsrfCookieName: [32m'ODW_XSRF'[39m,
  xsrfHeaderName: [32m'X-CSRF-Token'[39m,
  maxContentLength: [33m-1[39m,
  maxBodyLength: [33m-1[39m,
  env: {
    FormData: [Function: FormData] [FormData] {
      LINE_BREAK: [32m'\r\n'[39m,
      DEFAULT_CONTENT_TYPE: [32m'application/octet-stream'[39m
    },
    Blob: [36m[class Blob][39m
  },
  validateStatus: [36m[Function: validateStatus][39m,
  headers: Object [AxiosHeaders] {
    [32m'Cache-Control'[39m: [32m'no-store'[39m,
    Pragma: [32m'no-cache'[39m,
    [32m'X-Requested-With'[39m: [32m'XMLHttpRequest'[39m,
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [90mundefined[39m,
    traceparent: [32m'00-00000000000000000000000000000000-0000000000000000-01'[39m,
    [32m'x-request-id'[39m: [32m'80e1910a-59be-4081-b7e9-4bec4b525e6d'[39m
  },
  baseURL: [32m'/api'[39m,
  withCredentials: [33mtrue[39m,
  method: [32m'get'[39m,
  url: [32m'/retry'[39m,
  allowAbsoluteUrls: [33mtrue[39m,
  metadata: {
    startTime: [33m1763971552934[39m,
    retryCount: [33m0[39m,
    rootSpan: NonRecordingSpan { _spanContext: [36m[Object][39m },
    attemptSpan: NonRecordingSpan { _spanContext: [36m[Object][39m },
    traceparent: [32m'00-00000000000000000000000000000000-0000000000000000-01'[39m,
    requestId: [32m'80e1910a-59be-4081-b7e9-4bec4b525e6d'[39m
  }
}

[90mstdout[2m | src/libs/http/__tests__/httpClient.test.ts[2m > [22m[2mhttpClient[2m > [22m[2mretries on server errors and records error events
[22m[39m[HTTP] GET /retry {
  transitional: {
    silentJSONParsing: [33mtrue[39m,
    forcedJSONParsing: [33mtrue[39m,
    clarifyTimeoutError: [33mfalse[39m
  },
  adapter: [Function: Mock] {
    _isMockFunction: [33mtrue[39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mock: {
      calls: [36m[Array][39m,
      contexts: [36m[Array][39m,
      instances: [36m[Array][39m,
      invocationCallOrder: [36m[Array][39m,
      settledResults: [36m[Array][39m,
      results: [36m[Array][39m,
      lastCall: [36m[Getter][39m
    },
    mockImplementation: [36m[Function: mockImplementation][39m,
    mockImplementationOnce: [36m[Function: mockImplementationOnce][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function: mockReturnThis][39m,
    mockReturnValue: [36m[Function: mockReturnValue][39m,
    mockReturnValueOnce: [36m[Function: mockReturnValueOnce][39m,
    mockResolvedValue: [36m[Function: mockResolvedValue][39m,
    mockResolvedValueOnce: [36m[Function: mockResolvedValueOnce][39m,
    mockRejectedValue: [36m[Function: mockRejectedValue][39m,
    mockRejectedValueOnce: [36m[Function: mockRejectedValueOnce][39m,
    mockClear: [36m[Function: mockClear][39m,
    mockReset: [36m[Function: mockReset][39m,
    mockRestore: [36m[Function: mockRestore][39m,
    mockName: [36m[Function: mockName][39m,
    getMockName: [36m[Function: getMockName][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  transformRequest: [ [36m[Function: transformRequest][39m ],
  transformResponse: [ [36m[Function: transformResponse][39m ],
  timeout: [33m10000[39m,
  xsrfCookieName: [32m'ODW_XSRF'[39m,
  xsrfHeaderName: [32m'X-CSRF-Token'[39m,
  maxContentLength: [33m-1[39m,
  maxBodyLength: [33m-1[39m,
  env: {
    FormData: [Function: FormData] [FormData] {
      LINE_BREAK: [32m'\r\n'[39m,
      DEFAULT_CONTENT_TYPE: [32m'application/octet-stream'[39m
    },
    Blob: [36m[class Blob][39m
  },
  validateStatus: [36m[Function: validateStatus][39m,
  headers: Object [AxiosHeaders] {
    [32m'Cache-Control'[39m: [32m'no-store'[39m,
    Pragma: [32m'no-cache'[39m,
    [32m'X-Requested-With'[39m: [32m'XMLHttpRequest'[39m,
    Accept: [32m'application/json, text/plain, */*'[39m,
    [32m'Content-Type'[39m: [90mundefined[39m,
    traceparent: [32m'00-00000000000000000000000000000000-0000000000000000-01'[39m,
    [32m'x-request-id'[39m: [32m'80e1910a-59be-4081-b7e9-4bec4b525e6d'[39m
  },
  baseURL: [32m'/api'[39m,
  withCredentials: [33mtrue[39m,
  method: [32m'get'[39m,
  url: [32m'/retry'[39m,
  allowAbsoluteUrls: [33mtrue[39m,
  metadata: {
    startTime: [33m1763971553934[39m,
    retryCount: [33m1[39m,
    rootSpan: NonRecordingSpan { _spanContext: [36m[Object][39m },
    attemptSpan: NonRecordingSpan { _spanContext: [36m[Object][39m },
    traceparent: [32m'00-00000000000000000000000000000000-0000000000000000-01'[39m,
    requestId: [32m'80e1910a-59be-4081-b7e9-4bec4b525e6d'[39m
  }
}

[90mstdout[2m | src/libs/http/__tests__/httpClient.test.ts[2m > [22m[2mhttpClient[2m > [22m[2mretries on server errors and records error events
[22m[39m[HTTP] /retry completed in 0ms

 [32mâœ“[39m src/libs/http/__tests__/httpClient.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/libs/auth/__tests__/auth-service.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/features/charts/api/__tests__/labo-api.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m src/features/patients/api/__tests__/patient-api.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/features/charts/__tests__/health-insurance.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/features/charts/api/__tests__/orca-api.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/app/App.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 514[2mms[22m[39m
     [33m[2mâœ“[22m[39m æœªèªè¨¼æ™‚ã¯ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ [33m 347[2mms[22m[39m
 [32mâœ“[39m src/features/replay-gap/__tests__/replayGapAudit.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/features/schedule/api/__tests__/schedule-document-api.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/features/charts/utils/__tests__/timeline-events.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/features/charts/__tests__/progress-note-payload.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/features/charts/components/__tests__/DocumentTimelinePanel.resolveError.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/features/charts/utils/__tests__/schema-payload.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/features/patients/api/__tests__/karte-api.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/features/reception/api/__tests__/visit-api.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/features/charts/utils/__tests__/care-map.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/features/reception/api/__tests__/visit-detail-api.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/features/charts/utils/__tests__/order-set-sharing.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/features/charts/api/__tests__/free-document-api.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/features/charts/api/__tests__/letter-api.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/features/patients/api/__tests__/patient-memo-api.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/features/reception/hooks/__tests__/useReceptionCheckIn.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 2[2mms[22m[39m

[2m Test Files [22m [1m[32m32 passed[39m[22m[90m (32)[39m
[2m      Tests [22m [1m[32m105 passed[39m[22m[90m (105)[39m
[2m   Start at [22m 17:05:49
[2m   Duration [22m 6.07s[2m (transform 3.21s, setup 3.27s, collect 10.13s, tests 5.33s, environment 17.40s, prepare 466ms)[22m

