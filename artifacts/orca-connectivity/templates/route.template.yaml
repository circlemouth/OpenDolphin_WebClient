# WebORCA route.yaml template
#
# 配置先: /opt/jma/weborca/app/etc/route.yaml
# receipt_route.ini と同じ内容を YAML で表現したもの。手動更新時は両ファイルの整合を取る。
# facility_cidr は ORCA へ到達するサブネット（例: 10.0.0.0/16）を環境ごとに設定する。

upstream:
  host: 127.0.0.1
  port: 8000
  scheme: http
  timeout_seconds: 60
  facility_cidr:
    - 127.0.0.1/32
    - 10.0.0.0/8

routes:
  - name: api01rv2
    enable: true
    methods: [OPTIONS, GET, POST]
    path: /api01rv2
    note: "患者基本/受付参照"
  - name: orca11
    enable: true
    methods: [OPTIONS, GET, POST]
    path: /orca11
    note: "受付登録"
  - name: orca14
    enable: true
    methods: [OPTIONS, GET, POST]
    path: /orca14
    note: "予約登録"
  - name: api21
    enable: true
    methods: [OPTIONS, GET, POST]
    path: /api21
    note: "診療行為登録・CLAIM"

# 追加ルートを有効化する際は `routes` に要素を追加し、restart 後 `docker logs` で 405/404 が解消したかを確認する。
