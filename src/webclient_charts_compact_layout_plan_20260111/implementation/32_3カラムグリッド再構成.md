# 32 3カラムグリッド再構成

- RUN_ID: `20260111T113717Z`
- 期間: 2026-01-12 15:00 〜 2026-01-13 15:00 (JST) / 優先度: high / 緊急度: high / エージェント: codex
- YAML ID: `src/webclient_charts_compact_layout_plan_20260111/implementation/32_3カラムグリッド再構成.md`

## 参照
- `docs/DEVELOPMENT_STATUS.md`
- `docs/web-client/ux/charts-compact-layout-proposal-20260110.md`
- `src/webclient_charts_compact_layout_plan_20260111/design/21_DockedUtilityPanel設計.md`
- `web-client/src/features/charts/pages/ChartsPage.tsx`
- `web-client/src/features/charts/styles.ts`

## 実装内容
- `charts-workbench__body` を 3 カラム（左/中/右）へ変更し、外側に `charts-workbench__layout` を追加。
- 左列へ `DiagnosisEditPanel` を移動し、患者タブ/病名/履歴のまとまりを形成。
- 中列は SOAP + DocumentTimeline のみを保持。
- 右列へ `MedicalOutpatientRecordPanel` を移動し、OrcaSummary と並置。
- 右固定メニューは `charts-workbench__layout` の 2 列目として独立配置。

## 動作確認・テスト
- `npm --prefix web-client ci --cache .npm-cache`
- `npm --prefix web-client test -- chartsAccessibility`

## ブラッシュアップ（20260111T113717Z）
- 右固定メニュー列の幅を `--charts-side-width` で固定し、3カラムの幅が外側レイアウトに引きずられないように調整。
- `charts-actionbar` / `charts-telemetry` のフォーカスアンカーを補完し、`focusSectionById` の対象 ID が常時存在するよう整理。
- 病名編集ボタンに `aria-controls` / `aria-expanded` / `aria-label` を付与し、左列カードへの導線を明確化。
- 空のフォーカスアンカー用スタイル `.charts-focus-anchor` を追加し、DOM 影響を最小化。

## 補足
- 病名編集は左列のカードへ誘導する導線に変更。
