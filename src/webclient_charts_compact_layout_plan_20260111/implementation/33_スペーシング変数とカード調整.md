# 33 スペーシング変数とカード調整

- RUN_ID: `20260111T201553Z`
- 期間: 2026-01-12 15:00 〜 2026-01-13 15:00 (JST) / 優先度: medium / 緊急度: high / エージェント: codex
- YAML ID: `src/webclient_charts_compact_layout_plan_20260111/implementation/33_スペーシング変数とカード調整.md`

## 参照
- `docs/DEVELOPMENT_STATUS.md`
- `src/webclient_charts_compact_layout_plan_20260111/design/22_スペーシングとカード規約定義.md`
- `web-client/src/features/charts/styles.ts`

## 実装内容
- `.charts-page` に `--charts-space-*` / `--charts-radius-*` / `--charts-shadow-*` を定義。
- `.charts-card` / `.charts-card--summary` / `.charts-card--memo` / `.charts-workbench__side` / `.charts-page__header` の padding・角丸・影をトークンに統一。
- `DocumentTimeline` 内部カード（`.document-timeline__section-log` / `.document-timeline__entry`）と `Patients` タブカードの余白・角丸を `--charts-space-*` に合わせて調整。
- `DocumentTimeline` / `Patients` / `SOAP` / `OrcaSummary` / `MedicalRecord` / `SidePanel` / `DocumentList` の gap/padding を `--charts-space-*` に整理。

## 具体的に置換した要素一覧
- 主要カード: `.charts-page__header` / `.charts-card` / `.charts-workbench__side` / `.patients-tab__modal-card`
- Docked/Side: `.charts-docked-panel__drawer` / `.charts-side-panel__form` / `.charts-side-panel__items li` / `.charts-side-panel__search-table` / `.charts-document-menu__button`
- DocumentTimeline 内部: `.document-timeline__section` / `.document-timeline__section-log` / `.document-timeline__soap-entry` / `.document-timeline__entry` / `.document-timeline__queue` / `.document-timeline__queue-row` / `.document-timeline__transition` / `.document-timeline__audit` / `.document-timeline__skeleton-row`
- Patients 内部: `.patients-tab__card` / `.patients-tab__row` / `.patients-tab__history-row` / `.patients-tab__diff-row` / `.patients-tab__modal-row` / `.patients-tab__audit`
- SOAP/ORCA/Record: `.soap-note__section` / `.orca-summary__meta` / `.medical-record__section` / `.medical-record__empty`
- Patient 編集系: `.patient-form__alert` / `.patient-edit__notice` / `.patient-edit__blocked` / `.patient-edit__diff-row`

## 影/余白の方針（主要カード/内側カードの使い分け）
- 主要カードは `--charts-shadow-1/2` を使用（`.charts-card` / `.charts-page__header` / `.charts-workbench__side` / `.patients-tab__modal-card`）。
- 内側カード/パネルは `--charts-shadow-none` に統一し、影での強調は使わない（DocumentTimeline/Patients/SidePanel/DocumentList など）。
- 余白は `--charts-space-xs/sm/md` に統一し、`0.35rem` 等の中間値は `xs/sm` に寄せて整理。

## 動作確認・テスト
- `npm --prefix web-client ci --cache .npm-cache`
- `npm --prefix web-client test -- chartsAccessibility`
- 実行日時: 2026-01-12 05:58:19 JST
- 結果: `chartsAccessibility` 3 tests passed
