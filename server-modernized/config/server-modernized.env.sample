# PostgreSQL 接続設定 (Secrets 管理対象)
DB_HOST=your-db-host
DB_PORT=5432
DB_NAME=opendolphin
DB_USER=opendolphin
DB_PASSWORD=change-me
# ↑ 本番環境では Vault/Secrets Manager から注入されるランダムな資格情報を使用する。未更新のまま適用すると接続拒否または監査指摘対象となるため必ず上書きすること。
DB_SSLMODE=verify-full
# DB_SSLROOTCERT には PEM 形式の CA 証明書パスを指定し、必要に応じて docker-compose でマウントする
DB_SSLROOTCERT=/opt/jboss/ssl/root-ca.pem

# ORCA DB 接続設定 (ORCA 専用の Secrets を優先。未設定の場合は DB_* をフォールバック)
ORCA_DB_HOST=
ORCA_DB_PORT=
ORCA_DB_NAME=
ORCA_DB_USER=
ORCA_DB_PASSWORD=
ORCA_DB_SSLMODE=
ORCA_DB_SSLROOTCERT=
# 監査メタ情報 (任意)
ORCA_DB_SECRET_REF=
ORCA_DB_SECRET_VERSION=

# ORCA API (HTTP) 接続設定
# 未設定の場合は custom.properties の orca.orcaapi.* を利用する
ORCA_API_HOST=
ORCA_API_PORT=
ORCA_API_SCHEME=http
ORCA_API_USER=
ORCA_API_PASSWORD=
# ORCA Cloud などで /api 配下に ORCA API がある場合に指定（例: /api）
ORCA_API_PATH_PREFIX=
# WebORCA を強制指定する場合に true（host が weborca-* の場合は自動判定）
ORCA_API_WEBORCA=
# リトライ設定（必要な場合のみ。0 なら無効）
ORCA_API_RETRY_MAX=0
ORCA_API_RETRY_BACKOFF_MS=200

# ORCA POST 切替（運用フラグ）
# ORCA_POST_MODE: "real" or "stub" を指定（未指定なら各 API の既定値に従う）
# - subjectives: 既定 stub
# - medical records: 既定 real（モダナイズ DB）
ORCA_POST_MODE=
# 個別 override (優先度: *_MODE > *_USE_STUB > *_REAL > ORCA_POST_MODE > default)
ORCA_POST_SUBJECTIVES_MODE=
ORCA_POST_MEDICAL_RECORDS_MODE=
# 互換用（boolean: true=stub, false=real）
ORCA_POST_SUBJECTIVES_USE_STUB=
ORCA_POST_MEDICAL_RECORDS_USE_STUB=
# 互換用（boolean: true=real, false=stub）
ORCA_POST_SUBJECTIVES_REAL=
ORCA_POST_MEDICAL_RECORDS_REAL=

# 2FA AES 鍵 (必須)
FACTOR2_AES_KEY_B64=
# ↑ 32 バイト乱数を Base64 した値を設定。未設定で WildFly を起動すると `IllegalStateException` によりデプロイが中断される。

# Hibernate 実行時プロファイル
HIBERNATE_SHOW_SQL=false
HIBERNATE_FORMAT_SQL=false
