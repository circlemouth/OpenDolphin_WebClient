diff --git a/server-modernized/src/main/java/open/dolphin/rest/StampResource.java b/server-modernized/src/main/java/open/dolphin/rest/StampResource.java
index 366c6c8a..72e552e2 100644
--- a/server-modernized/src/main/java/open/dolphin/rest/StampResource.java
+++ b/server-modernized/src/main/java/open/dolphin/rest/StampResource.java
@@ -418,7 +418,15 @@ public class StampResource extends AbstractResource {
     private void logStampTreeFailure(String action, StampTreeModel model, RuntimeException e) {
         String traceId = resolveTraceId(httpServletRequest);
         Long userPk = model != null && model.getUserModel() != null ? model.getUserModel().getId() : null;
-        LOGGER.log(Level.WARNING, e, () -> String.format("Stamp tree %s failed [traceId=%s, userPk=%s, version=%s]", action, traceId, userPk, model != null ? model.getVersionNumber() : null));
+        LOGGER.log(Level.WARNING, formatStampTreeFailureMessage(action, traceId, userPk, model), e);
+    }
+
+    private String formatStampTreeFailureMessage(String action, String traceId, Long userPk, StampTreeModel model) {
+        return String.format("Stamp tree %s failed [traceId=%s, userPk=%s, version=%s]",
+                action,
+                traceId,
+                userPk,
+                model != null ? model.getVersionNumber() : null);
     }
 
     private StampTreeModel deserializeStampTree(String json) throws IOException {
diff --git a/server-modernized/src/main/java/open/dolphin/session/StampServiceBean.java b/server-modernized/src/main/java/open/dolphin/session/StampServiceBean.java
index 7c2ea560..3594589f 100644
--- a/server-modernized/src/main/java/open/dolphin/session/StampServiceBean.java
+++ b/server-modernized/src/main/java/open/dolphin/session/StampServiceBean.java
@@ -146,7 +146,14 @@ public class StampServiceBean {
     }
 
     private void logVersionMismatch(long userPk, String requested, String current) {
-        LOGGER.log(Level.INFO, () -> String.format("StampTree version desync detected [userPk=%d, payloadVersion=%s, dbVersion=%s]", userPk, requested, current));
+        LOGGER.log(Level.INFO, formatVersionMismatchMessage(userPk, requested, current));
+    }
+
+    private String formatVersionMismatchMessage(long userPk, String requested, String current) {
+        return String.format("StampTree version desync detected [userPk=%d, payloadVersion=%s, dbVersion=%s]",
+                userPk,
+                requested,
+                current);
     }
 
     /**
diff --git a/server/src/main/java/open/dolphin/rest/StampResource.java b/server/src/main/java/open/dolphin/rest/StampResource.java
index 56c9444f..6658f6a9 100644
--- a/server/src/main/java/open/dolphin/rest/StampResource.java
+++ b/server/src/main/java/open/dolphin/rest/StampResource.java
@@ -99,7 +99,15 @@ public class StampResource extends AbstractResource {
     private void logStampTreeFailure(String action, StampTreeModel model, RuntimeException e) {
         String traceId = resolveTraceId(httpServletRequest);
         Long userPk = (model != null && model.getUserModel() != null) ? model.getUserModel().getId() : null;
-        LOGGER.log(Level.WARNING, String.format("Stamp tree %s failed [traceId=%s, userPk=%s, version=%s]", action, traceId, userPk, model != null ? model.getVersionNumber() : null), e);
+        LOGGER.log(Level.WARNING, formatStampTreeFailureMessage(action, traceId, userPk, model), e);
+    }
+
+    private String formatStampTreeFailureMessage(String action, String traceId, Long userPk, StampTreeModel model) {
+        return String.format("Stamp tree %s failed [traceId=%s, userPk=%s, version=%s]",
+                action,
+                traceId,
+                userPk,
+                model != null ? model.getVersionNumber() : null);
     }
 
     @FunctionalInterface
diff --git a/server/src/main/java/open/dolphin/session/StampServiceBean.java b/server/src/main/java/open/dolphin/session/StampServiceBean.java
index d7f93c5f..4253f50f 100644
--- a/server/src/main/java/open/dolphin/session/StampServiceBean.java
+++ b/server/src/main/java/open/dolphin/session/StampServiceBean.java
@@ -171,7 +171,14 @@ public class StampServiceBean {
     }
 
     private void logVersionMismatch(long userPk, String requested, String current) {
-        LOGGER.log(Level.INFO, String.format("StampTree version desync detected [userPk=%d, payloadVersion=%s, dbVersion=%s]", userPk, requested, current));
+        LOGGER.log(Level.INFO, formatVersionMismatchMessage(userPk, requested, current));
+    }
+
+    private String formatVersionMismatchMessage(long userPk, String requested, String current) {
+        return String.format("StampTree version desync detected [userPk=%d, payloadVersion=%s, dbVersion=%s]",
+                userPk,
+                requested,
+                current);
     }
 
     private void recordStampTreeAudit(String action, StampTreeModel requestModel, StampTreeModel persistedModel,
