# 旧サーバー・モダナイズ版サーバーを同一ネットワークで起動するための複合 Compose 定義です。
# 個別に起動する場合は ops/legacy-server/docker-compose.yml または ops/modernized-server/docker-compose.yml を参照してください。
services:
  db:
    extends:
      file: ops/base/docker-compose.yml
      service: db

  server:
    extends:
      file: ops/legacy-server/docker-compose.yml
      service: server

  server-modernized:
    profiles: ["modernized"]
    extends:
      file: ops/modernized-server/docker-compose.yml
      service: server-modernized
