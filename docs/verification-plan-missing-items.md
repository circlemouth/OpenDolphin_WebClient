# 確認作業計画テンプレート: 不足・リスク・要確認事項

> 目的: 既存資料（確認作業計画テンプレート）で抜けやすい観点を洗い出し、要確認事項として列挙する。

## 1. 不足しやすい項目（画面/サーバー機能観点）

### 1.1 画面（UI/UX）
- 状態別の表示（空、読み込み中、エラー、権限なし）
- 入力バリデーションの条件差分（必須/任意、文字種、桁数、境界値）
- 例外系の文言・ガイド（エラーメッセージの具体性、次の行動誘導）
- 画面遷移の戻る/進む挙動（ブラウザバック、リロード時の状態保持）
- 画面の権限差分（閲覧/編集/管理者）
- 表示の時差（非同期更新・ポーリング・キャッシュ反映遅延）
- 一覧/検索の条件の組み合わせ（並び替え、絞り込み、ページング）
- 複数デバイス対応（レスポンシブ、画面回転、DPI差分）
- アクセシビリティ（キーボード操作、コントラスト、フォーカス）
- ファイルアップロード（拡張子、容量、同名、プレビュー、失敗時）

### 1.2 サーバー機能（API/バッチ/外部連携）
- 主要APIのエラー分類（4xx/5xx/タイムアウト/リトライ）
- 権限制御・認可（ロール差分、スコープ、データ単位の制限）
- データ整合性（重複登録、同時更新、排他制御）
- 依存サービス障害時の挙動（フォールバック、退避、再処理）
- ログ/監査（監査ログの内容、個人情報マスキング）
- 日次/定期バッチ（スケジュール、例外時の再実行、途中失敗）
- 通知/メール（送信失敗、再送、テンプレ差分、配信停止）
- 設定変更の反映（即時/遅延、影響範囲、ロールバック）
- 互換性（旧データ・旧APIの取り扱い、移行時の差分）
- 監視・アラート（閾値、通知先、一次切り分け手順）

## 2. 確認漏れリスクと対策

| リスク | 影響 | 兆候 | 対策 |
| --- | --- | --- | --- |
| 状態別表示の未確認 | 例外時にユーザーが詰まる | 画面が空白/無応答 | 状態一覧を事前に洗い出し、必須確認に追加 |
| 権限差分の未確認 | 情報漏えい/操作不可 | 権限エラーが散発 | ロール別チェックリストを作成 |
| エラー文言の不備 | 問い合わせ増/復旧遅延 | 不明なエラー報告 | エラー文言レビューを作業に組み込む |
| 外部連携障害時の未確認 | 連携停止/データ不整合 | 連携再試行が不明 | 失敗時の挙動を仕様化し確認 |
| 同時更新の未確認 | データ上書き/破損 | 競合時の欠落 | 排他/競合時のシナリオを追加 |
| バッチ再実行の未確認 | データ重複/欠損 | 再実行時の差異 | 再実行手順とガードを明記 |
| 監査ログの未確認 | 監査対応不可 | ログ欠落の指摘 | ログ項目一覧を別表で作成 |
| キャッシュ反映の未確認 | 画面と実データ不一致 | 更新後に差が残る | 反映タイミングの確認手順を追加 |

## 3. 要確認事項リスト（箇条書き）

- 画面の「空/読み込み中/エラー/権限なし」表示がすべて定義されているか
- 主要入力項目のバリデーション条件（必須/任意、境界値、文字種）が揃っているか
- エラーメッセージが具体的で再現・解消の手がかりを示しているか
- 画面遷移（ブラウザバック/リロード）で状態が破綻しないか
- ロール/権限別の表示・操作差分が検証できるか
- 一覧/検索/並び替え/ページングの組み合わせが確認対象に含まれているか
- アクセシビリティ（キーボード操作/フォーカス/コントラスト）に観点があるか
- ファイルアップロードの失敗系（容量超過/拡張子不一致/途中失敗）が確認されているか
- APIのエラー分類（4xx/5xx/タイムアウト）とリトライ方針が定義されているか
- 同時更新/重複登録の競合シナリオが確認対象に含まれているか
- 外部連携が失敗した際の挙動（再送/保留/通知）が確認されているか
- ログ/監査の取得項目と保存期間が明確か
- バッチ処理の再実行条件と影響範囲が確認されているか
- 設定変更の反映タイミングとロールバック手順が確認されているか
- 監視・アラートの閾値と一次対応フローが確認対象に含まれているか

