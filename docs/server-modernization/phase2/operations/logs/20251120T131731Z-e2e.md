# RUN_ID=20251120T131731Z 統合 E2E 接続確認ログ（Web クライアント連携）

- 期間: 2025-12-12 09:00 〜 2025-12-17 09:00 (JST)
- 状態: 未着手（計画作成のみ）。実施後にシナリオ結果と証跡パスを追記する。
- 参照チェーン: `AGENTS.md` → `docs/web-client/README.md` → `docs/server-modernization/phase2/INDEX.md` → `docs/managerdocs/PHASE2_MANAGER_ASSIGNMENT_OVERVIEW.md` → `docs/managerdocs/PHASE2_WEB_CLIENT_EXPERIENCE_MANAGER_CHECKLIST.md` / `docs/managerdocs/PHASE2_SERVER_FOUNDATION_MANAGER_CHECKLIST.md`
- RUN_ID: `20251120T131731Z`（派生 RUN_ID を作成する場合は親 RUN_ID を併記）
- 証跡ディレクトリ: `artifacts/e2e-connect/20251120T131731Z/`

## 実施メモ（追記用）
- 環境 / 接続先:
  - Web クライアント: MSW 無効化／`VITE_DEV_PROXY_TARGET` でモダナイズ版サーバーへ接続する設定を明記。
  - サーバー: 開発用 ORCA 接続設定（`mac-dev-login.local.md` 参照）。
- 証跡収集方針: HAR or HTTP dump、スクリーンショット、サーバー log 抜粋をシナリオ単位で保存し、本ログから相対パスで参照する。
- 機微情報のマスキング: 患者 ID / トークン / Cookie 等は記載前に伏せ字化する。

## シナリオ記録テンプレート
| シナリオ | 前提・期待結果 | 実績 (Pass/Fail/Blocked) | 証跡パス | 備考 |
| --- | --- | --- | --- | --- |
| 認証/セッション延長 | 例: ログイン成功、Token refresh が 401→再認証 | | | |
| 受付/予約 | 例: 患者検索→受付登録→予約作成/更新 | | | |
| カルテ閲覧/保存 | 例: DocInfo 取得、ChartEvent 保存（期待 HTTP 200/409）、エラー表示 | | | |
| ORCA ラッパー | 例: acceptmod/appointmod 呼び出し、Trial 405/seed 不足は Blocker として記録 | | | |
| エラーハンドリング | 例: ネットワーク遮断、トークン失効、4xx/5xx UI 表示 | | | |

## 仕分け・エスカレーション（追記用）
- サーバー側で対応可能:
  - [ ] 例: seed 追加、互換レイヤー設定、レスポンス補完
- クライアント連携チームへエスカレーション:
  - [ ] 例: UI メッセージ改善、リトライ/タイムアウト調整、ルーティング差分

## 次アクション
- 実測完了後、`DOC_STATUS.md` 備考欄へ RUN_ID と本ログ/証跡パスを追記する。
- Blocker が発生した場合は `ORCA_API_STATUS.md` や関連チェックリストへ反映し、担当と期限を明示する。
