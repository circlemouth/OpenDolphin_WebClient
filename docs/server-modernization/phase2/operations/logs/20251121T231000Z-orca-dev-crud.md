# ORCA dev CRUD (RUN_ID=20251121T231000Z)

- 接続先: 開発用 ORCA（詳細は `docs/web-client/operations/mac-dev-login.local.md` 参照）。全コマンドは curl に Basic 認証を付与し、`Authorization` は保存物で `<MASKED>` 済み。証跡: `artifacts/orca-connectivity/20251121T231000Z/{crud,trace,blocked}`。
- 実行コマンド概要（共通オプション）: `curl -sS -u <MASKED> -H 'Accept: application/xml' -H 'Content-Type: application/xml' -X POST --data-binary <payload>`。trace は `--trace-ascii trace/<api>_<timestamp>.trace` で採取。

## Task-B: 医師/患者登録有無の推定確認（CLI）

| API | HTTP | Api_Result | 推定/補足 | Evidence |
| --- | --- | --- | --- | --- |
| `/api01rv2/patientgetv2?id=00001` | 200 | 00 | 患者 `00001` 登録済み（氏名・保険情報を返却）。 | `crud/patientgetv2/response_20251121T143808Z.xml`, trace: `trace/patientgetv2_20251121T143808Z.trace` |
| `/api01rv2/acceptlstv2?class=01` (doctor=`00001`, dept=`01`, patient=`00001`) | 200 | 21 | 受付データなし。 | `crud/acceptlstv2/response_20251121T143851Z.xml`, trace: `trace/acceptlstv2_20251121T143851Z.trace` |
| `/api01rv2/appointlstv2?class=01` (同上パラメータ) | 200 | 21 | 予約データなし。 | `crud/appointlstv2/response_20251121T143931Z.xml`, trace: `trace/appointlstv2_20251121T143931Z.trace` |
| `/api/api21/medicalmodv2?class=01` (doctor=`00001`, patient=`00001`) | 200 | 14 | 「ドクターが存在しません」→ 医師マスタ未登録と推定。 | `crud/medicalmodv2/response_20251121T144026Z.xml`, trace: `trace/medicalmodv2_20251121T144026Z.trace` |
| `/orca11/acceptmodv2?class=01` | 405 | - | `Allow: OPTIONS, GET`。POST 開放なし。 | `crud/acceptmodv2/headers_20251121T144107Z.txt`, response同名, trace: `trace/acceptmodv2_20251121T144107Z.trace` |
| `/orca14/appointmodv2?class=01` | 405 | - | `Allow: OPTIONS, GET`。POST 開放なし。 | `crud/appointmodv2/headers_20251121T144146Z.txt`, response同名, trace: `trace/appointmodv2_20251121T144146Z.trace` |
| `/api01rv2/acceptlstv2?class=01` (doctor=`0000`, dept=`01`, patient=`00001`) | 200 | 13 | ドクターが存在しません。`0000` も未登録。 | `crud/acceptlstv2/response_20251121T150054Z.xml`, trace: `trace/acceptlstv2_20251121T150054Z.trace` |
| `/api01rv2/appointlstv2?class=01` (doctor=`0000`, dept=`01`, patient=`00001`) | 200 | 12 | ドクターが存在しません。 | `crud/appointlstv2/response_20251121T150138Z.xml`, trace: `trace/appointlstv2_20251121T150138Z.trace` |
| `/api/api21/medicalmodv2?class=01` (doctor=`0000`, patient=`00001`) | 200 | 14 | ドクターが存在しません。 | `crud/medicalmodv2/response_20251121T150200Z.xml`, trace: `trace/medicalmodv2_20251121T150200Z.trace` |
| `/api01rv2/acceptlstv2?class=01` (doctor=`0001`) | - | (No reply) | `curl: (52) Empty reply from server`。Api_Result 未取得。 | trace: `trace/acceptlstv2_0001_20251121T151410Z.trace` |
| `/api01rv2/appointlstv2?class=01` (doctor=`0001`) | - | (No reply) | 同上。 | `trace/appointlstv2_0001_20251121T151459Z.trace` |
| `/api/api21/medicalmodv2?class=01` (doctor=`0001`) | - | (No reply) | 同上。 | `trace/medicalmodv2_0001_20251121T151519Z.trace` |
| `/api01rv2/acceptlstv2?class=01` (doctor=`00011`) | - | (No reply) | 同上。 | `trace/acceptlstv2_00011_20251121T151538Z.trace` |
| `/api01rv2/appointlstv2?class=01` (doctor=`00011`) | - | (No reply) | 同上。 | `trace/appointlstv2_00011_20251121T151545Z.trace` |
| `/api/api21/medicalmodv2?class=01` (doctor=`00011`) | - | (No reply) | 同上。 | `trace/medicalmodv2_00011_20251121T151553Z.trace` |
| `/api01rv2/system01lstv2?class=02` (Request_Number=02) | - | (No reply) | ドクター一覧取得を試行も `curl: (52) Empty reply from server`。 | `trace/system01lstv2_20251121T152438Z.trace` |
| `/api01rv2/acceptlstv2?class=01` (doctor=`0001`) 再測 | - | (No reply) | 再起動後も空応答。 | `trace/acceptlstv2_0001_20251121T152912Z.trace` |
| `/api01rv2/appointlstv2?class=01` (doctor=`0001`) 再測 | - | (No reply) | 同上。 | `trace/appointlstv2_0001_20251121T152912Z.trace` |
| `/api/api21/medicalmodv2?class=01` (doctor=`0001`) 再測 | - | (No reply) | 同上。 | `trace/medicalmodv2_0001_20251121T152912Z.trace` |
| `/api01rv2/acceptlstv2?class=01` (doctor=`00011`) 再測 | - | (No reply) | 同上。 | `trace/acceptlstv2_00011_20251121T152912Z.trace` |
| `/api01rv2/appointlstv2?class=01` (doctor=`00011`) 再測 | - | (No reply) | 同上。 | `trace/appointlstv2_00011_20251121T152912Z.trace` |
| `/api/api21/medicalmodv2?class=01` (doctor=`00011`) 再測 | - | (No reply) | 同上。 | `trace/medicalmodv2_00011_20251121T152912Z.trace` |

### まとめ
- 患者 `00001` は登録済み。一方、医師コード `00001` は診療・受付系 API で存在しない扱いとなり、`medicalmodv2` は `Api_Result=14`。`acceptlstv2`/`appointlstv2` はデータなし (`21`) で医師存在の確証は得られず、少なくとも受付実績は未投入。
- POST 系 `/orca11/*` `/orca14/*` は本日再測でも 405 継続。route 設定か API_ENABLE の開放が必要。
- ブロッカー整理は `artifacts/orca-connectivity/20251121T231000Z/blocked/README.md` に追記済み。
