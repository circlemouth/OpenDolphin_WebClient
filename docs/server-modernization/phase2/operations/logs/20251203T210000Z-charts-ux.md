# 20251203T210000Z Charts UX カバレッジログ

- RUN_ID チェーン: `20251203T210000Z`（親=`20251202T090000Z`、`docs/web-client/ux/charts-claim-ui-policy.md` の記載を踏まえた派生）
- 参照チェーン: `AGENTS.md` → `docs/web-client/README.md` → `docs/server-modernization/phase2/INDEX.md` → `docs/managerdocs/PHASE2_MANAGER_ASSIGNMENT_OVERVIEW.md` → 本ログ → `docs/web-client/ux/charts-claim-ui-policy.md`

## 1. 目的 & 概要
1. `DocumentTimelinePanel`/`OrderConsole`/`OrcaSummary` における state・`aria-live` の整合化と、受付画面の tone/`role=alert` に基づくバナー遷移の整理を `docs/web-client/ux/charts-claim-ui-policy.md` に記録。
2. 受付→カルテの導線、保険/自費フィルタ、`dataSourceTransition`/`missingMaster`/`fallbackUsed` の監査メタを外来 API のみで再掲するテーブルを同文書に追加し、入院 API は `N/A` として対象外とした。
3. 本対応は `docs/web-client/ux/ux-documentation-plan.md` の第6節に内容を追記し、`DOC_STATUS.md` の `Web クライアント/UX` 行を RUN_ID=`20251203T210000Z` へ更新、`artifacts/webclient/ux-notes/20251203T210000Z-charts-ux.md` に次の API マッピングへのインプットを残すことを合わせて管理する。

## 2. ドキュメント同期
- `docs/web-client/ux/charts-claim-ui-policy.md` へ DocumentTimeline/OrderConsole/OrcaSummary の state table、OrderConsole 側の `FilterBadge` の `aria-live`、OrcaSummary の `dataSourceTransition`/`missingMaster`/`fallbackUsed` 監査トリガを追記し、テーブル内で `Outpatient-only` API を明示。
- `docs/web-client/ux/ux-documentation-plan.md` の第6節で本対応の RUN_ID/証跡/artifact を説明し、`DOC_STATUS.md` の UX 行は RUN_ID=`20251203T210000Z` として新しいログ・artifact を指すよう更新した。
- `artifacts/webclient/ux-notes/20251203T210000Z-charts-ux.md` に本 coverage のサマリと次の API マッピングで確認すべき `aria-live` + `dataSourceTransition` 要件を記録し、実装/検証チームへの引き継ぎ資料とする。

## 3. 証跡 & 次ステップ
- 証跡: `docs/web-client/ux/charts-claim-ui-policy.md` + `docs/web-client/ux/ux-documentation-plan.md` + `docs/web-client/planning/phase2/DOC_STATUS.md` + 本ログ。
- 次ステップ: API マッピング担当は `artifacts/webclient/ux-notes/20251203T210000Z-charts-ux.md` を起点に `/api/pvt2/pvtList`・`/api/karte/docinfo`・`/resources/orca/master/*` の audit メタ (`dataSourceTransition`/`missingMaster`/`fallbackUsed`) を洗い出し、`Doc Timeline` と `OrcaSummary` の `aria-live` 演出と `reception` の `role=alert` を両立させる。Playwright/a11y 担当には `aria-live=assertive` の警告と `aria-live=polite` のデータ遷移を分離する自動検証を後続 run id で追加することを周知する。
