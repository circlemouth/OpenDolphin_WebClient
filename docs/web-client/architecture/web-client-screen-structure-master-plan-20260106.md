# Webクライアント画面構成 決定版作業計画（RUN_ID: 20260106T042520Z）

## 目的
旧来型クライアント（Swing）とWebクライアントの画面構成を比較し、Web側を本番運用に耐える画面構成へ移行する。
デバッグ用途の画面/導線は本番導線から分離し、必要に応じて非表示または別画面で温存する。

## 正本・前提
- 正本ドキュメントは `docs/DEVELOPMENT_STATUS.md`。
- Phase2 文書は参照専用。
- 旧来型クライアントは参照のみ（`client/`）。`server/` は変更禁止。
- 対象は `web-client/` と `server-modernized/`（必要な場合のみ）。

## 対象範囲
- 画面/導線: Login / Reception / Charts / Patients / Administration
- ナビゲーション/ルーティング構成
- 旧来UIとの画面/機能対応表（不足/過剰/未対応の明確化）
- デバッグ画面の隔離方針（環境/権限/別URL）

## 非対象（今回のスコープ外）
- Legacy `server/` の改修
- ORCA 実環境への接続（必要な場合は別手順に従う）

## 参照元（比較の根拠）
- Web: `web-client/src/AppRouter.tsx` ほか各画面
- 旧来: `client/src/main/java/open/dolphin/client/resources/MacMenuFactory_ja.properties` ほか

## 主要な論点（決定が必要な項目）
1. デバッグ画面の扱い
   - A) 本番は完全非表示（ENV/feature flag）
   - B) 管理者のみ表示（role guard）
   - C) 別URLで温存（隠し導線）
2. 本番ナビの画面順序と名称
   - 受付 / カルテ / 患者 / 管理 の順序・名称を確定
3. 旧来機能のWeb側不足分の扱い
   - StampBox / 検査結果時系列 / 画像表示などの優先度を定義

## 作業計画（決定版）
### 1) 旧来型画面構成の棚卸し
- 旧来メニュー/タブ/導線の一覧化
- 主要画面の目的・利用頻度・権限要件を記録
- 成果物: 旧来画面構成一覧（画面名/機能/導線/権限）
- 見積: 0.5〜1.5人日

### 2) Web画面構成の棚卸し
- 現行ルート/ナビ/画面一覧を整理
- 本番導線として不適切な画面（デバッグ/検証系）を抽出
- 成果物: Web画面構成一覧（画面名/URL/ガード/用途）
- 見積: 0.5〜1.0人日

### 3) 旧→Web 対応表と差分整理
- 旧来画面とWeb画面の対応表作成
- 未対応/過剰/統合対象を分類
- 成果物: 画面マッピング表（不足/過剰/統合候補）
- 見積: 0.5〜1.0人日

### 4) 本番画面構成の設計
- 本番ナビ/ルーティングの最終案を設計
- 画面遷移図（最小構成・拡張構成）を整理
- 成果物: 本番向け画面構成図・ナビ仕様
- 見積: 0.5〜1.0人日

### 5) デバッグ画面の隔離方針の確定
- 方針決定（ENV/role/別URL）
- 画面一覧への反映（本番導線から除外）
- 成果物: デバッグ画面運用方針（運用/権限/URL）
- 見積: 0.5〜1.0人日

### 6) Web画面構成の実装
- AppRouter/ナビ/ガードの改修
- 画面名称/順序の本番化
- デバッグ導線の隔離/非表示化
- 見積: 2.0〜4.0人日

### 7) 動作確認・回帰チェック
- 主要導線/権限制御/画面遷移の確認
- 影響範囲（Charts/Patients/Administration）重点チェック
- 見積: 1.0〜2.0人日

### 8) ドキュメント更新
- 画面構成決定事項を `docs/web-client/` に反映
- `docs/DEVELOPMENT_STATUS.md` に実施記録を記載
- 見積: 0.25〜0.5人日

## 決定事項の反映先（本番ナビ/ルーティング）
- `docs/web-client/architecture/web-client-screen-structure-decisions-20260106.md`

## 合計見積（人日）
- 最短: 5.75人日
- 通常: 6.75〜11.0人日

## 受け入れ条件（Doneの定義）
- 本番ナビと画面構成が決定・文書化されている
- デバッグ画面が本番導線から分離されている
- 旧来との対応表があり、差分理由が明確
- 主要導線（受付/カルテ/患者/管理）の遷移確認が完了

## リスクと対策
- 旧来画面情報不足 → スクショ/関係者確認で補完
- デバッグ画面の完全非表示による検証手段低下 → DEV/管理者限定で温存
- 画面/権限再設計の影響拡大 → 先にIAを確定し、変更範囲を限定

## 次に必要な入力
- 旧来クライアントの最新画面一覧（スクショ/動画/合意済み一覧）
- デバッグ画面の運用方針（非表示/別画面/管理者限定）
- 本番ナビの名称/順序の合意
