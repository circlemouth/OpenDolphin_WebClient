ganttConfig:
  defaultView: day
  startDate: 2025-12-30
  showFilters: true
  filters:
    priorities:
      High: true
      Medium: true
      Low: true
    statuses:
      completed: true
      in_progress: true
      not_started: true
    showDependencies: true
labels:
  dayNames:
    - 日
    - 月
    - 火
    - 水
    - 木
    - 金
    - 土
  priorities:
    high: 高
    medium: 中
    low: 低
  statuses:
    completed: 完了
    inProgress: 進行中
    notStarted: 未開始
  buttons:
    filter: フィルター
    previousPeriod: 前へ
    nextPeriod: 次へ
  filterPanel:
    priorities: 優先度
    statuses: ステータス
    dependencies: 依存関係
    showDependencies: 依存関係を表示
    tasksCount: タスク数
  tooltipFields:
    startDate: 開始日
    duration: 期間
    priority: 優先度
    status: ステータス
    progress: 進捗
    agent: エージェント
    details: 詳細
    prerequisites: 前提タスク
    nextTasks: Next Tasks
filters:
  priorities:
    High: true
    Medium: true
    Low: true
  statuses:
    completed: true
    in_progress: true
    not_started: true
  showDependencies: true
src:
  webclient_facility_prefix:
    00_RUN_IDと参照確認.md:
      content: |-
        # 00 RUN_ID と参照確認

        - RUN_ID: 20251230T021810Z

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `AGENTS.md`
        - `web-client/README.md`
        - `setup-modernized-env.sh`

        ## 作業内容
        - 参照順: `docs/DEVELOPMENT_STATUS.md` → `web-client/src/AppRouter.tsx` → `web-client/src/LoginScreen.tsx` → 本ガント。
        - 変更対象は `web-client/` のみ。`server/` は参照専用。
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency: []
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 0.2
    01_ルーティング設計と旧URL方針.md:
      content: |-
        # 01 ルーティング設計と旧URL方針

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/AppRouter.tsx`
        - `web-client/src/LoginScreen.tsx`
        - `docs/web-client/`

        ## 作業内容
        - `/f/:facilityId/*` にルート集約する方針を整理する。
        - `/login` 直アクセス時の挙動（案内/誘導/選択）を決定し、ルート遷移方針を確定する。
        - 主要画面の遷移先が `/f/:facilityId/...` に統一されることを確認する。
      priority: High
      status: completed
      progress: 100
      agent: claude code
      api: []
      dependency:
        - src/webclient_facility_prefix/00_RUN_IDと参照確認.md
      schedule:
        start: 2025-12-30T00:30:00.000Z
        days: 0.6
    02_AppRouterパスプレフィックス実装.md:
      content: |-
        # 02 AppRouter パスプレフィックス実装

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/AppRouter.tsx`
        - `web-client/src/LoginScreen.tsx`
        - `docs/web-client/`

        ## 作業内容
        - `web-client/src/AppRouter.tsx` に `/f/:facilityId/*` ルートを実装する。
        - 既存ルート（`/login`, `/reception`, `/charts`, `/patients`, `/administration`, `/outpatient-mock`）を `/f/:facilityId/` 配下へ移動する。
        - 旧URLアクセス時のリダイレクト/案内を組み込み、衝突のない導線にする。
      priority: High
      status: completed
      progress: 100
      agent: gemini cli
      api: []
      dependency:
        - src/webclient_facility_prefix/01_ルーティング設計と旧URL方針.md
      schedule:
        start: 2025-12-30T06:00:00.000Z
        days: 1
    03_LoginScreen施設ID注入と表示制御.md:
      content: |-
        # 03 LoginScreen 施設ID注入と表示制御

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/LoginScreen.tsx`
        - `web-client/src/AppRouter.tsx`
        - `docs/web-client/`

        ## 作業内容
        - `useParams` で `facilityId` を取得し初期値へ注入する。
        - 施設ID入力は非表示または readonly 表示に切り替える。
        - 施設ID未取得時のエラー/誘導メッセージを追加する。
      priority: High
      status: completed
      progress: 100
      agent: cursor cli
      api: []
      dependency:
        - src/webclient_facility_prefix/01_ルーティング設計と旧URL方針.md
      schedule:
        start: 2025-12-30T09:00:00.000Z
        days: 0.6
    04_認証保存と遷移統一.md:
      content: |-
        # 04 認証保存と遷移統一

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/LoginScreen.tsx`
        - `web-client/src/httpClient.ts`
        - `docs/web-client/`

        ## 作業内容
        - `localStorage` の `devFacilityId` を URL 由来の値で更新する。
        - ログイン成功後の遷移先を `/f/:facilityId/reception` へ統一する。
        - `httpClient.ts` など施設ID参照の破綻がないか確認する。
      priority: Medium
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/webclient_facility_prefix/02_AppRouterパスプレフィックス実装.md
        - src/webclient_facility_prefix/03_LoginScreen施設ID注入と表示制御.md
      schedule:
        start: 2025-12-30T12:00:00.000Z
        days: 0.6
    05_ローカル起動と動作確認.md:
      content: |-
        # 05 ローカル起動と動作確認

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/README.md`
        - `setup-modernized-env.sh`
        - `docs/web-client/`

        ## 作業内容
        - `WEB_CLIENT_MODE=npm ./setup-modernized-env.sh` で起動確認を行う。
        - `https://localhost:<port>/f/0001/login` からログインし、`/f/0001/reception` へ遷移する。
        - 旧URL `/login` と施設ID未指定URLの挙動を確認する。
      priority: Medium
      status: completed
      progress: 100
      agent: claude code
      api: []
      dependency:
        - src/webclient_facility_prefix/04_認証保存と遷移統一.md
      schedule:
        start: 2025-12-30T14:00:00.000Z
        days: 0.6
    06_施設ID未指定ログイン導線方針確認.md:
      content: |-
        # 06 施設ID未指定ログイン導線方針確認

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/AppRouter.tsx`
        - `web-client/src/LoginScreen.tsx`
        - `facility.json`
        - `docs/web-client/`
        - `web-client/src/features/login/FacilityLoginEntry.tsx`
        - `web-client/src/features/login/recentFacilityStore.ts`
        - `web-client/src/routes/facilityRoutes.ts`

        ## 作業内容
        - 施設ID補完ルールは **C案** を採用する前提で整理する。
        - 優先順（案C）: (1) `/f/:facilityId/login` 直アクセス（URL） (2) recentFacilities が 1 件のみ (3) `devFacilityId` が存在し recentFacilities が空 (4) `VITE_DEFAULT_FACILITY_ID` or `facility.json` が存在し上記が空 (5) それ以外は施設選択へ誘導。
        - 補完後は `/f/:facilityId/login` へ遷移し、履歴は replace を基本とする（旧URLや状態復帰時の誘導は例外扱い）。
        - 補完不可時は `FacilityLoginEntry` を表示し、選択/入力を要求する（エラーではなく誘導とする）。
      priority: High
      status: not_started
      progress: 0
      agent: codex
      api: []
      dependency:
        - src/webclient_facility_prefix/05_ローカル起動と動作確認.md
      schedule:
        start: 2025-12-30T16:30:00.000Z
        days: 0.4
    07_施設ID自動補完ルーティング実装.md:
      content: |-
        # 07 施設ID自動補完ルーティング実装

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/AppRouter.tsx`
        - `web-client/src/LoginScreen.tsx`
        - `docs/web-client/`
        - `web-client/src/features/login/FacilityLoginEntry.tsx`
        - `web-client/src/features/login/recentFacilityStore.ts`
        - `web-client/src/routes/facilityRoutes.ts`
        - `facility.json`

        ## 作業内容
        - C案の補完ルールに基づき、`/login` 直アクセス時に施設IDを解決する処理を実装する。
        - 自動補完できた場合は `buildFacilityPath(facilityId, '/login')` へ `replace` で遷移する。
        - 補完不可時は `FacilityLoginEntry` へフォールバックし、選択/入力を要求する。
        - 既存の `from` state や旧URL誘導がある場合は、`replace`/`push` の使い分け方針を明文化して適用する。
      priority: High
      status: not_started
      progress: 0
      agent: claude code
      api: []
      dependency:
        - src/webclient_facility_prefix/06_施設ID未指定ログイン導線方針確認.md
      schedule:
        start: 2025-12-30T18:00:00.000Z
        days: 0.6
    08_LoginScreen_UUID自動採番.md:
      content: |-
        # 08 LoginScreen UUID 自動採番

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/src/LoginScreen.tsx`
        - `docs/web-client/`

        ## 作業内容
        - UUID 入力欄を非表示/削除し、ログイン処理で自動採番する。
        - 生成した UUID をフォーム状態/送信 payload に反映する。
        - 既存の UUID 参照箇所があれば互換性を確認する。
      priority: Medium
      status: not_started
      progress: 0
      agent: cursor cli
      api: []
      dependency:
        - src/webclient_facility_prefix/07_施設ID自動補完ルーティング実装.md
      schedule:
        start: 2025-12-30T21:00:00.000Z
        days: 0.4
    09_追加変更の動作確認.md:
      content: |-
        # 09 追加変更の動作確認

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `web-client/README.md`
        - `setup-modernized-env.sh`
        - `docs/web-client/`

        ## 作業内容
        - `WEB_CLIENT_MODE=npm ./setup-modernized-env.sh` で起動確認を行う。
        - `/login` 直アクセスで施設ID補完が働き、`/f/:facilityId/login` に遷移することを確認する。
        - UUID 入力なしでログインでき、`/f/:facilityId/reception` へ遷移することを確認する。
      priority: Medium
      status: not_started
      progress: 0
      agent: codex
      api: []
      dependency:
        - src/webclient_facility_prefix/08_LoginScreen_UUID自動採番.md
      schedule:
        start: 2025-12-30T22:30:00.000Z
        days: 0.4
    10_報告と差分整理.md:
      content: |-
        # 10 報告と差分整理

        ## 前提ドキュメント
        - `docs/DEVELOPMENT_STATUS.md`
        - `.kamui/apps/webclient-facility-prefix-plan-20251229.yaml`
        - `docs/web-client/`

        ## 作業内容
        - 変更点、動作確認結果、旧URLの挙動をまとめて報告する。
        - 更新したファイル一覧と残課題を整理する。
      priority: Low
      status: not_started
      progress: 0
      agent: gemini cli
      api: []
      dependency:
        - src/webclient_facility_prefix/09_追加変更の動作確認.md
      schedule:
        start: 2025-12-31T00:00:00.000Z
        days: 0.3
