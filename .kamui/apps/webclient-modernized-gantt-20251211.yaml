ganttConfig:
  defaultView: day
  startDate: 2025-12-12
  showFilters: true
  filters:
    priorities:
      High: true
      Medium: true
      Low: true
    statuses:
      completed: true
      in_progress: true
      not_started: true
    showDependencies: true
labels:
  dayNames:
    - 日
    - 月
    - 火
    - 水
    - 木
    - 金
    - 土
  priorities:
    high: 高
    medium: 中
    low: 低
  statuses:
    completed: 完了
    inProgress: 進行中
    notStarted: 未開始
  buttons:
    filter: フィルター
    previousPeriod: 前へ
    nextPeriod: 次へ
  filterPanel:
    priorities: 優先度
    statuses: ステータス
    dependencies: 依存関係
    showDependencies: 依存関係を表示
    tasksCount: タスク数
  tooltipFields:
    startDate: 開始日
    duration: 期間
    priority: 優先度
    status: ステータス
    progress: 進捗
    agent: エージェント
    details: 詳細
    prerequisites: 前提タスク
    nextTasks: Next Tasks
filters:
  priorities:
    High: true
    Medium: true
    Low: true
  statuses:
    completed: true
    in_progress: true
    not_started: true
  showDependencies: true
src:
  webclient_modernization_phase2:
    00_governance:
      RUN_ID整備と参照チェーン確認.md:
        content: |-
          # RUN_ID 整備と参照チェーン確認

          - RUN_ID を `20251211T172459Z` で統一し、DOC_STATUS/証跡ログへ事前登録する。
          - 参照チェーン（AGENTS.md → docs/web-client/README.md → docs/server-modernization/phase2/INDEX.md → manager checklist）を再確認し、本ガントの適用範囲を明示。
          - Legacy 資産を参照専用に固定し、server-modernized 接続のみを対象にすることを全員に周知。
        dependency: []
        agent: codex
        api: []
        priority: High
        status: in_progress
        progress: 20
        schedule:
          start: 2025-12-12T00:00:00.000Z
          days: 0.25
    01_shell_login:
      AppShell共通化とRUN_ID伝播.md:
        content: |-
          # AppShell 共通化と RUN_ID 伝播

          - `AppRouter` と `AuthServiceProvider` を共通化し、runId/missingMaster/cacheHit/dataSourceTransition を単一ソースで保持。
          - Topbar に RUN_ID コピー、左ナビ権限ガード、通知スタック（role=status, aria-live）を組み込み。
          - 現状のログイン＋デモシェル実装をリファクタし、後続画面がフラグを受け取れる状態を完成させる。
        dependency:
          - src/webclient_modernization_phase2/00_governance/RUN_ID整備と参照チェーン確認.md
        agent: claude code
        api: []
        priority: High
        status: in_progress
        progress: 35
        schedule:
          start: 2025-12-12T06:00:00.000Z
          days: 1
      ログイン強化とセッションガード.md:
        content: |-
          # ログイン強化とセッションガード

          - `/user/{facility:user}` GET 認証を正式配線し、MD5 パスワード + clientUUID 検証と失敗時の aria-live=assertive エラー表示を実装。
          - 成功時に runId を発行し SessionContext へ保存、tone/banner/audit に透過。
          - localStorage seed 保存と RUN_ID コピー機能を QA 向けに維持。
        dependency:
          - src/webclient_modernization_phase2/01_shell_login/AppShell共通化とRUN_ID伝播.md
        agent: codex
        api:
          - /user/{facility:user}
        priority: High
        status: in_progress
        progress: 30
        schedule:
          start: 2025-12-13T00:00:00.000Z
          days: 0.75
      左ナビ権限ガードとUX整備.md:
        content: |-
          # 左ナビ権限ガードと UX 整備

          - Reception/Charts/Patients/Administration/Outpatient Mock のタブ活性制御と警告バッジを実装。
          - Disabled タブにツールチップと aria-disabled を付与し、権限不足の遷移を防止。
          - Current 実装（デモシェルのみ active）を拡張し、運用想定の導線に合わせる。
        dependency:
          - src/webclient_modernization_phase2/01_shell_login/AppShell共通化とRUN_ID伝播.md
        agent: cursor cli
        api: []
        priority: Medium
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-13T06:00:00.000Z
          days: 0.5
    02_shared_observability:
      Telemetryと監査メタ統合.md:
        content: |-
          # Telemetry と監査メタ統合

          - `telemetryClient.recordOutpatientFunnel` を resolve_master / charts_orchestration の二段で発火し、runId/traceId/cacheHit/missingMaster/dataSourceTransition を全 API 呼び出しへ透過。
          - `audit.logUiState` に主要 UI 操作（トーン変更、送信、保存、設定配信）を記録し、server-modernized ログと突き合わせ。
          - 現状: ログインのみ実 API 接続。ここで全画面に共通のヘッダー/メタ注入を完了させる。
        dependency:
          - src/webclient_modernization_phase2/01_shell_login/AppShell共通化とRUN_ID伝播.md
        agent: gemini cli
        api: []
        priority: High
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-13T12:00:00.000Z
          days: 0.5
    03_reception:
      Reception検索とリストAPI配線.md:
        content: |-
          # Reception 検索とリスト API 配線

          - `/api01rv2/claim/outpatient/*` と `/api01rv2/appointment/outpatient/*` を React Query で接続し、検索・フィルタ・ソート結果を aria-live=polite で告知。
          - 状態バッジ/件数バッジ/折りたたみ保持を実データで表示し、行ダブルクリックで Charts に runId を carry-over。
          - missingMaster/cacheHit/dataSourceTransition をヘッダーと UI に反映し、現行モック実装を置き換える。
        dependency:
          - src/webclient_modernization_phase2/01_shell_login/ログイン強化とセッションガード.md
          - src/webclient_modernization_phase2/02_shared_observability/Telemetryと監査メタ統合.md
        agent: claude code
        api:
          - /api01rv2/claim/outpatient/*
          - /api01rv2/appointment/outpatient/*
        priority: High
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-14T00:00:00.000Z
          days: 2
      OrderConsoleフラグ連携とトーン統一.md:
        content: |-
          # OrderConsole フラグ連携とトーン統一

          - resolveMasterSource セレクトと missingMaster/cacheHit トグルを Reception/Charts/Patients へ連動させ、ToneBanner/StatusBadge の文言をトーンポリシーに揃える。
          - note 入力を auditEvent に含め、ARIA（role=alert/aria-live=assertive）を適用。
          - 現状のモック UI を API 応答ベースに置換し、telemetry funnel を表示。
        dependency:
          - src/webclient_modernization_phase2/03_reception/Reception検索とリストAPI配線.md
        agent: cursor cli
        api: []
        priority: Medium
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-15T12:00:00.000Z
          days: 1
    04_charts:
      Chartsデータバインドとタイムライン実装.md:
        content: |-
          # Charts データバインドとタイムライン実装

          - Reception からの runId/flags を受け、DocumentTimeline を受付→診療→ORCAキューで実データ表示（missingMaster 行ハイライト含む）。
          - OrcaSummary で `/orca21/medicalmodv2/outpatient` 応答を表示し、cacheHit/missingMaster/fallbackUsed をバッジ化。
          - PatientsTab の検索・詳細タブを API 値でレンダリングし、編集不可条件を tone に連動。
        dependency:
          - src/webclient_modernization_phase2/03_reception/Reception検索とリストAPI配線.md
          - src/webclient_modernization_phase2/02_shared_observability/Telemetryと監査メタ統合.md
        agent: claude code
        api:
          - /orca21/medicalmodv2/outpatient
          - /api01rv2/appointment/outpatient/*
        priority: High
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-16T00:00:00.000Z
          days: 1.5
      ORCA送信・ドラフト・キャンセル制御.md:
        content: |-
          # ORCA 送信 / ドラフト / キャンセル制御

          - missingMaster=true で送信無効化し警告トースト、fallbackUsed 時の警告を追加。
          - ORCA送信・診療終了・ドラフト保存・キャンセルを audit/telemetry に記録し、UI 状態をロックする。
          - 長時間処理にスケルトン＋トーストを追加し、エラーリトライ導線を設計。
        dependency:
          - src/webclient_modernization_phase2/04_charts/Chartsデータバインドとタイムライン実装.md
        agent: codex
        api:
          - /orca21/medicalmodv2/outpatient
        priority: Medium
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-17T12:00:00.000Z
          days: 0.5
    05_patients_admin:
      Patients編集と監査連携.md:
        content: |-
          # Patients 編集と監査連携

          - 患者一覧/詳細/編集フォームを `/orca12/patientmodv2/outpatient` に接続し、保存時に auditEvent(operation=create|update|delete) と runId を送信。
          - missingMaster/fallbackUsed true の場合は保存をブロックし、warning トーストと aria-live=assertive を表示。
          - Reception からのフィルタ復元と localStorage/URL 同期を実装。
        dependency:
          - src/webclient_modernization_phase2/03_reception/OrderConsoleフラグ連携とトーン統一.md
          - src/webclient_modernization_phase2/04_charts/Chartsデータバインドとタイムライン実装.md
        agent: gemini cli
        api:
          - /orca12/patientmodv2/outpatient
        priority: High
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-17T00:00:00.000Z
          days: 1
      Administration設定配信とキュー表示.md:
        content: |-
          # Administration 設定配信とキュー表示

          - ORCA 接続設定/MSW トグル/配信フラグのフォームを API 配線し、保存で broadcast + audit を送信。
          - 配信キューの未配信バンドル一覧と再送/破棄ボタンを実装し、遅延警告バナーを表示。
          - system_admin 権限のみ活性化し、Reception/Charts にバナーで設定変更を通知。
        dependency:
          - src/webclient_modernization_phase2/02_shared_observability/Telemetryと監査メタ統合.md
        agent: codex
        api: []
        priority: Medium
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-18T00:00:00.000Z
          days: 1
    06_outpatient_mock:
      MSWシナリオとMockフラグUI刷新.md:
        content: |-
          # MSW シナリオと Mock フラグ UI 刷新

          - Outpatient Mock で missingMaster/cacheHit/dataSourceTransition の切替 UI を作り直し、telemetry funnel を画面表示。
          - `VITE_DISABLE_MSW=1` で実 API 接続時は警告を表示し、シナリオ切替を無効化。
          - MSW フィクスチャを Reception/Charts/Patients で再利用できるよう整理。
        dependency:
          - src/webclient_modernization_phase2/03_reception/Reception検索とリストAPI配線.md
        agent: cursor cli
        api: []
        priority: Low
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-18T12:00:00.000Z
          days: 0.5
    07_quality_and_ops:
      PlaywrightE2Eとアクセシビリティ検証.md:
        content: |-
          # Playwright E2E とアクセシビリティ検証

          - Reception→Charts→Patients→Administration の主要フローで tone/banner/aria-live/telemetry を自動確認するシナリオを `ux/playwright-scenarios.md` に沿って追加。
          - MSW ON/OFF の両モードを CI で実行し、スクリーンショットと HAR を artifacts へ保存。
          - A11y チェック（role/aria-*）とランタイムエラーを CI 失敗条件に設定。
        dependency:
          - src/webclient_modernization_phase2/04_charts/ORCA送信・ドラフト・キャンセル制御.md
          - src/webclient_modernization_phase2/05_patients_admin/Patients編集と監査連携.md
          - src/webclient_modernization_phase2/05_patients_admin/Administration設定配信とキュー表示.md
          - src/webclient_modernization_phase2/06_outpatient_mock/MSWシナリオとMockフラグUI刷新.md
        agent: claude code
        api: []
        priority: High
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-19T00:00:00.000Z
          days: 1
      StagePreview実API検証と証跡保存.md:
        content: |-
          # Stage/Preview 実 API 検証と証跡保存

          - `VITE_DISABLE_MSW=1` + `VITE_DEV_PROXY_TARGET` でモダナイズ版サーバーに接続し、ORCA_CERTIFICATION_ONLY.md の手順で RUN_ID 付きログを取得。
          - HAR/trace/audit ログを `docs/server-modernization/phase2/operations/logs/<RUN_ID>-*.md` と web-client 証跡に保存。
          - Stage/Preview の DNS/証明書失敗時は telemetry.reason を収集し、DOC_STATUS 備考に反映。
        dependency:
          - src/webclient_modernization_phase2/07_quality_and_ops/PlaywrightE2Eとアクセシビリティ検証.md
        agent: gemini cli
        api: []
        priority: High
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-20T00:00:00.000Z
          days: 1
      DOC_STATUS更新とワーカー報告準備.md:
        content: |-
          # DOC_STATUS 更新とワーカー報告準備

          - `docs/web-client/planning/phase2/DOC_STATUS.md` の RUN_ID 行を更新し、本ガントと実施タスクを備考に追記。
          - README の Active リストへ必要リンクを追加し、証跡ログを `planning/phase2/logs/<RUN_ID>-web-client-plan.md` に追記。
          - 形式 `【ワーカー報告】実施内容・証跡パス・DOC_STATUS 更新行・RUN_ID` を準備してマネージャーへ共有。
        dependency:
          - src/webclient_modernization_phase2/07_quality_and_ops/StagePreview実API検証と証跡保存.md
        agent: codex
        api: []
        priority: Medium
        status: not_started
        progress: 0
        schedule:
          start: 2025-12-20T12:00:00.000Z
          days: 0.5
