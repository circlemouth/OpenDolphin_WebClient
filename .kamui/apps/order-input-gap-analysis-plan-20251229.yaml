ganttConfig:
  defaultView: week
  startDate: 2025-12-29
  showFilters: true
  filters:
    priorities:
      High: true
      Medium: true
      Low: true
    statuses:
      completed: true
      in_progress: true
      not_started: true
    showDependencies: true
labels:
  dayNames:
    - 日
    - 月
    - 火
    - 水
    - 木
    - 金
    - 土
  priorities:
    high: 高
    medium: 中
    low: 低
  statuses:
    completed: 完了
    inProgress: 進行中
    notStarted: 未開始
  buttons:
    filter: フィルター
    previousPeriod: 前へ
    nextPeriod: 次へ
  filterPanel:
    priorities: 優先度
    statuses: ステータス
    dependencies: 依存関係
    showDependencies: 依存関係を表示
    tasksCount: タスク数
  tooltipFields:
    startDate: 開始日
    duration: 期間
    priority: 優先度
    status: ステータス
    progress: 進捗
    agent: エージェント
    details: 詳細
    prerequisites: 前提タスク
    nextTasks: Next Tasks
filters:
  priorities:
    High: true
    Medium: true
    Low: true
  statuses:
    completed: true
    in_progress: true
    not_started: true
  showDependencies: true
src:
  order_input_gap_analysis:
    00_前提ドキュメント整備.md:
      content: |-
        # 00 前提ドキュメント整備

        - 調査結果の保存先を `src/order_input_gap_analysis/` に固定し、命名規則（`YYMMDD_区分_内容.md` など）を先に決める。
        - 差分表テンプレート（項目名/入力方式/必須条件/保存挙動/コード参照/証跡URL）と、調査ログ（日時/担当/参照画面/参照コード/補足）をテンプレ化して配置する。
        - 参照先は `docs/DEVELOPMENT_STATUS.md` → `web-client/README.md` の順で確認し、Phase2 文書は参照のみとする旨をテンプレ冒頭に明記する。
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency: []
      schedule:
        start: 2025-12-29T00:00:00.000Z
        days: 1
    00_RUN_IDと調査範囲確定.md:
      content: |-
        # 00 RUN_ID と調査範囲確定

        - RUN_ID=`20251228T201657Z` を起点に、旧来版（client）とモダナイズ版（web-client）で対象とする「処方・文書・リハビリ・処置/検査/指示」オーダー入力の画面・入力欄・操作フローを洗い出す。
        - 参照先を `docs/DEVELOPMENT_STATUS.md` → `web-client/README.md` の順で確認し、Phase2 文書は参照のみとする。
        - 旧来版とモダナイズ版の調査結果を統合する差分表のテンプレート（項目名/入力方式/必須条件/保存挙動/コード参照）を決めて、以降の調査で統一する。
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/00_前提ドキュメント整備.md
      schedule:
        start: 2025-12-29T00:00:00.000Z
        days: 1
    01_旧来版_処方オーダー入力調査.md:
      content: |-
        # 01 旧来版：処方オーダー入力調査

        - 旧来版クライアントの処方入力画面（内服/外用/頓用/注射など）に存在する入力欄、選択肢、サブダイアログ、ショートカット操作を一覧化する。
        - 入力必須条件（用法必須、日数必須など）と保存/取消/中止/再開の操作フローを整理する。
        - コード上の参照ポイント（UI/バリデーション/保存）を紐づけ、差分表テンプレートに記入する。
      priority: High
      status: completed
      progress: 100
      agent: claude code
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    02_旧来版_文書オーダー入力調査.md:
      content: |-
        # 02 旧来版：文書オーダー入力調査

        - 旧来版クライアントの文書オーダー（診断書、紹介状、同意書など）入力欄とテンプレ選択、入力支援、印刷/プレビューの導線を整理する。
        - 文書ごとの必須項目、署名/印影/発行日などの特記事項を洗い出し、保存/再編集の流れを記録する。
        - 参照コードと入力方法を差分表テンプレートに反映する。
      priority: High
      status: completed
      progress: 100
      agent: gemini cli
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    03_旧来版_リハビリオーダー入力調査.md:
      content: |-
        # 03 旧来版：リハビリオーダー入力調査

        - 旧来版クライアントのリハビリオーダー入力欄（部位、回数、期間、指示、担当者）と選択UIを洗い出す。
        - 予約/スケジュールとの連携、コメント欄、必須条件、保存/取消の挙動を整理する。
        - 参照コードと入力方法を差分表テンプレートに反映する。
      priority: Medium
      status: completed
      progress: 100
      agent: cursor cli
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    04_旧来版_処置検査指示オーダー入力調査.md:
      content: |-
        # 04 旧来版：処置/検査/指示オーダー入力調査

        - 旧来版クライアントの処置・検査・指示系オーダーの入力欄（部位、数量、実施日、材料、コメント）と入力方法を整理する。
        - セット/パネル入力、複数行編集、履歴コピーなどの操作手順をまとめる。
        - 参照コードと入力方法を差分表テンプレートに反映する。
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    05_WEB_処方オーダー入力調査.md:
      content: |-
        # 05 WEB：処方オーダー入力調査

        - モダナイズ版Webクライアントの処方オーダー入力欄（RP編集、薬剤追加、用法/日数/回数、コメント）と入力フローを整理する。
        - 旧来版との差分が出る箇所（入力補助、必須判定、選択UI、保存/取消導線）を明記する。
        - 差分表テンプレートに入力欄・操作方法・必須条件・参照コードを記載する。
      priority: High
      status: completed
      progress: 100
      agent: claude code
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    06_WEB_文書オーダー入力調査.md:
      content: |-
        # 06 WEB：文書オーダー入力調査

        - モダナイズ版Webクライアントの文書オーダー入力欄、テンプレ選択、印刷/プレビュー導線を整理する。
        - 旧来版との差分（文書種別、必須項目、発行フロー）を明記する。
        - 差分表テンプレートに入力欄・操作方法・必須条件・参照コードを記載する。
      priority: Medium
      status: completed
      progress: 100
      agent: gemini cli
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    07_WEB_リハビリオーダー入力調査.md:
      content: |-
        # 07 WEB：リハビリオーダー入力調査

        - モダナイズ版Webクライアントのリハビリオーダー入力欄（部位、回数、期間、指示、担当者）と入力フローを整理する。
        - 旧来版との差分（スケジュール連携、入力補助、保存/取消挙動）を明記する。
        - 差分表テンプレートに入力欄・操作方法・必須条件・参照コードを記載する。
      priority: Medium
      status: completed
      progress: 100
      agent: cursor cli
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    08_WEB_処置検査指示オーダー入力調査.md:
      content: |-
        # 08 WEB：処置/検査/指示オーダー入力調査

        - モダナイズ版Webクライアントの処置・検査・指示系オーダー入力欄と入力方法を整理する。
        - 旧来版との差分（セット入力、複数行編集、履歴コピー、入力補助）を明記する。
        - 差分表テンプレートに入力欄・操作方法・必須条件・参照コードを記載する。
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/00_RUN_IDと調査範囲確定.md
      schedule:
        start: 2025-12-30T00:00:00.000Z
        days: 2
    09_差分マトリクス統合.md:
      content: |-
        # 09 差分マトリクス統合

        - 01〜08 の調査結果を統合し、旧来版/WEB の両方に存在する項目・片側のみ存在する項目を漏れなく一覧化する。
        - 入力方法（直接入力/選択/検索/テンプレ/ショートカット）と保存フローを比較し、差異の原因候補を添える。
        - 実装漏れの可能性が高い項目を優先度付きでマークする。
      priority: High
      status: completed
      progress: 100
      agent: claude code
      api: []
      dependency:
        - src/order_input_gap_analysis/01_旧来版_処方オーダー入力調査.md
        - src/order_input_gap_analysis/02_旧来版_文書オーダー入力調査.md
        - src/order_input_gap_analysis/03_旧来版_リハビリオーダー入力調査.md
        - src/order_input_gap_analysis/04_旧来版_処置検査指示オーダー入力調査.md
        - src/order_input_gap_analysis/05_WEB_処方オーダー入力調査.md
        - src/order_input_gap_analysis/06_WEB_文書オーダー入力調査.md
        - src/order_input_gap_analysis/07_WEB_リハビリオーダー入力調査.md
        - src/order_input_gap_analysis/08_WEB_処置検査指示オーダー入力調査.md
      schedule:
        start: 2026-01-01T00:00:00.000Z
        days: 2
    12_差分判定_修正区分.md:
      content: |-
        # 12 差分判定：修正区分

        RUN_ID: 20251228T235802Z

        ## 判定ルール
        - 差分が UI/入力補助/操作フロー起因の場合は Web クライアント側の改修対象とする。
        - 既存のモダナイズ版サーバーに該当 API がある場合はサーバー修正不要とする。
        - Web の安全ガード（readOnly/missingMaster/fallbackUsed 等）で旧来版にない優位性がある場合は修正不要とする。

        ## Web クライアント側の修正対象（差分）
        - P0: マスタ検索/検索結果テーブル/用法検索などの入力補助 UI（処方・処置/検査/指示・リハビリ共通）
        - P0: 旧来版の必須判定（処方の用法必須、entity別の必須条件）
        - P0: 展開/展開継続/スタンプ保存・取り込み相当の操作導線
        - P0: 文書作成メニュー/文書フォーム（紹介状/診断書/返信書）
        - P1: 注射「手技料なし」・放射線部位検索などの専用 UI
        - P1: DnD 並べ替え/一括クリアなどの操作補助
        - P1: 文書テンプレ（ODT）差し込み/多種文書の印刷出力
        - P2: 履歴コピー/スタンプ複製/スケジュール連携 UI

        ## モダナイズ版サーバー側の修正対象
        - なし（マスタ検索/スタンプ生成などの API は server-modernized 既存機能を利用する前提）

        ## 修正不要（Web 側の優位性）
        - readOnly/missingMaster/fallbackUsed による一括ブロック（安全性/整合性向上）
        - patientId 未選択時のメッセージ表示（安全ガード）
        - /orca/order/bundles API による保存フロー（Web 設計方針）
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/09_差分マトリクス統合.md
      schedule:
        start: 2026-01-02T00:00:00.000Z
        days: 1
    13_WEB修正タスク化_P0.md:
      content: |-
        # 13 Web修正タスク化（P0）

        - 事前判定: `12_差分判定_修正区分.md` に従い「P0はWebクライアント改修、server-modernized 変更なし」を前提にタスク化する（API不足が判明した場合のみ別途サーバータスクを起票）。
        - タスク化対象（P0）:
          - マスタ検索/UI（検索欄・結果テーブル・行選択追加）を `OrderBundleEditPanel` へ追加。
          - スタンプ保存/取り込み相当の導線を追加（保存UI/既存スタンプ選択UI/反映手順）。
          - 展開/展開継続の操作導線を Web に追加（カルテ反映フローを想定したUI/保存導線の差分整理）。
          - 処方の必須判定（薬剤≥1/用法必須/用法検索必須）と、BaseEditor 系の entity 別必須判定を Web バリデーションに反映。
          - 文書作成メニュー/フォーム（紹介状/診断書/返信書）を Charts 右パネルに追加。
        - 影響範囲整理: 画面（Charts/右パネル）、API（/orca/order/bundles ほか）、監査ログ（operationPhase/入力差分メタ）を明記し、P0改修の順序とブロッカーを定義する。
      priority: High
      status: not_started
      progress: 0
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/12_差分判定_修正区分.md
      schedule:
        start: 2026-01-03T00:00:00.000Z
        days: 2
    14_WEB修正タスク化_P1_P2.md:
      content: |-
        # 14 Web修正タスク化（P1/P2）

        - 事前判定: `12_差分判定_修正区分.md` に従い「P1/P2はWebクライアント改修、server-modernized 変更なし」を前提にタスク化する（API不足が判明した場合のみ別途サーバータスクを起票）。
        - タスク化対象（P1）:
          - DnD並べ替え/全クリア/行削除補助を `OrderBundleEditPanel` に追加。
          - 注射「手技料なし」、放射線部位検索/部位チェック表示、コメントコード行編集、材料（SLOT_ZAIRYO）追加の専用UIを設計。
          - 文書のODTテンプレ差し込み/文書別印刷出力の導線を整理。
        - タスク化対象（P2）:
          - リハビリの予約/スケジュール連携 UI の可否検討と、代替運用の案（手入力/別システム運用）を明記。
        - 実装順序: 既存P0の影響を受ける項目（DnD/材料/コメントコードなど）を優先し、暫定運用で代替可能な項目を後工程に回す。
      priority: Medium
      status: not_started
      progress: 0
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/12_差分判定_修正区分.md
      schedule:
        start: 2026-01-05T00:00:00.000Z
        days: 2
    15_改修前提ドキュメント整備.md:
      content: |-
        # 15 改修前提ドキュメント整備

        - 差分判定後の Web 改修タスク（P0/P1/P2）に必要な前提情報を一箇所に集約する。
        - 利用する API・ログ・ガード条件の前提を整理し、実装着手前に共有できる状態にする。
        - 改修タスク化で使うテンプレ（対象/依存/テスト観点）を用意する。
      priority: High
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/12_差分判定_修正区分.md
      schedule:
        start: 2026-01-02T00:00:00.000Z
        days: 1

    10_ドキュメント化とレビュー.md:
      content: |-
        # 10 ドキュメント化とレビュー

        - 成果物: `src/order_input_gap_analysis/10_ドキュメント化とレビュー.md` に差分（調査結果/実装漏れ候補/再現手順/優先度）を整理済み。
        - レビュー結果: 差分は A〜E の5区分に整理され、P0は「マスタ検索/検索結果テーブル」「スタンプ保存/取り込み」「展開/展開継続」「必須判定」「文書作成/フォーム」などの業務必須項目が中心。
        - P1は「DnD/全クリア」「注射/放射線の専用UI」「ODTテンプレ/多種文書印刷」など品質・安全/運用補助の項目、P2は「リハビリ予約連携」の便宜機能として明記済み。
      priority: Medium
      status: completed
      progress: 100
      agent: codex
      api: []
      dependency:
        - src/order_input_gap_analysis/09_差分マトリクス統合.md
      schedule:
        start: 2026-01-03T00:00:00.000Z
        days: 2
    11_漏れ検証と最終確認.md:
      content: |-
        # 11 漏れ検証と最終確認

        - 対象: `src/order_input_gap_analysis/10_ドキュメント化とレビュー.md` の A〜E 区分と `09_差分マトリクス統合.md` を突合し、「片側のみ存在する項目」漏れがないかを再確認する。
        - 観点チェック: 入力欄/入力方法/必須条件/保存フロー/テンプレ/検索/スタンプ/履歴コピー/予約連携の観点でチェックリスト化し、差分の漏れを洗い出す。
        - 追記対応: 新規差分が出た場合は 09 → 10 の順に追記し、P0/P1/P2 の優先度と再現手順を明確化する。
        - 完了条件: `10_ドキュメント化とレビュー.md` にチェック日時/確認者を追記し、差分漏れなしの記録を残す。
      priority: High
      status: not_started
      progress: 0
      agent: cursor cli
      api: []
      dependency:
        - src/order_input_gap_analysis/10_ドキュメント化とレビュー.md
      schedule:
        start: 2026-01-05T00:00:00.000Z
        days: 1
