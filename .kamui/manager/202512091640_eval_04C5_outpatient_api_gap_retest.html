<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>評価レポート</title>
    <style>
      body { font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; margin: 24px; background-color: #e9f0f2; color: #1f2a30; }
      .monitor-wrapper { max-width: 1180px; margin: 0 auto; padding: 32px; background: #ffffff; border: 1px solid #c4d3d7; }
      .monitor-header { display: flex; flex-direction: column; gap: 8px; margin-bottom: 24px; }
      .monitor-title { font-size: 26px; font-weight: 700; letter-spacing: 0.04em; color: #1f2a30; }
      .monitor-description { font-size: 14px; color: #3a4b53; }
      .score-banner { display: flex; gap: 12px; align-items: baseline; font-size: 20px; font-weight: 700; color: #1f2a30; }
      .trophy { font-size: 32px; }
      table.monitor-report { width: 100%; border-collapse: collapse; table-layout: fixed; background: #ffffff; border: 1px solid #c4d3d7; }
      col.timestamp-column { width: 160px; }
      col.agent-column { width: calc((100% - 160px) / 3); }
      th, td { border: 1px solid #c4d3d7; padding: 16px; vertical-align: top; background-color: #ffffff; }
      th { background: #d8e6e9; text-align: left; font-size: 13px; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; color: #2c3a40; }
      tbody tr:nth-child(even) td { background-color: #eef3f4; }
      details { display: block; margin: 0; }
      details summary { list-style: none; }
      details[open] summary { margin-bottom: 12px; }
      .details-toggle { display: inline-flex; align-items: center; gap: 6px; cursor: pointer; font-weight: 500; font-size: 13px; color: #1f2a30; padding: 0; background: transparent; border: none; }
      .details-toggle::before { content: "▶"; font-size: 10px; transition: transform 160ms ease; display: inline-block; }
      details[open] .details-toggle::before { transform: rotate(90deg); }
      .timestamp { font-weight: 600; color: #2c3a40; overflow-wrap: anywhere; }
      pre { white-space: pre-wrap; word-break: break-word; margin: 0; font-size: 12px; line-height: 1.55; color: #1f2a30; background: #f2f6f7; border: 1px solid #c4d3d7; padding: 16px; }
      .status-badge { display: inline-block; font-size: 10px; font-weight: 600; letter-spacing: 0.02em; padding: 1px 6px; background: #d8e6e9; border: 1px solid #b8c9cd; color: #1f2a30; white-space: nowrap; line-height: 1.3; vertical-align: top; }
      .status-badge--error { background: #f8d7da; border-color: #f1aeb5; }
      .agent-meta { display: block; margin-bottom: 8px; line-height: 1.5; }
      .radar-wrap { display: flex; flex-direction: column; gap: 8px; align-items: flex-start; }
      .radar-svg { width: 180px; height: 180px; }
      .metric-list { margin: 0; padding-left: 18px; font-size: 12px; color: #3a4b53; }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">04C5 外来 API ギャップ再検証 評価レポート（再確認版）</h1>
        <p class="monitor-description">2025-12-09 16:40 JST に git fetch --all --prune 後、監視3ブランチと master の差分を再確認。いずれも差分無しのため成果物未提出と判断し失格評価を維持。</p>
        <div class="score-banner"><span class="trophy">❌</span><span>Agent task-1765258143095-41801a 合計 120 / 600</span></div>
        <div class="score-banner"><span class="trophy">❌</span><span>Agent task-1765258143179-de7fdd 合計 110 / 600</span></div>
        <div class="score-banner"><span class="trophy">❌</span><span>Agent task-1765258142705-2cdfba 合計 105 / 600</span></div>
      </header>
      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>Agent task-1765258143095-41801a</th>
            <th>Agent task-1765258143179-de7fdd</th>
            <th>Agent task-1765258142705-2cdfba</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2025-12-09 16:40</td>
            <td>
              <div class="agent-meta"><span class="status-badge status-badge--error">失格</span> master と完全一致（git diff --name-status master...task/... で差分ゼロ）。再検証実装・ログ未確認。</div>
              <div class="radar-wrap">
                <svg class="radar-svg radar" viewBox="0 0 180 180" data-scores="20,18,15,15,22,30"></svg>
                <ul class="metric-list">
                  <li>機能合理性 20: 要件未充足（実装なし）。</li>
                  <li>緻密性 18: 証跡なし。</li>
                  <li>テスト網羅 15: 走行記録なし。</li>
                  <li>ログ/証跡 15: サーバー/ORCAログ未提出。</li>
                  <li>UXトーン 22: 影響なし。</li>
                  <li>整合性 30: master と一致。</li>
                </ul>
              </div>
              <details class="snapshot-details">
                <summary class="details-toggle">コミットログ</summary>
                <pre>e62be433 Merge branch 'task/task-1765256554006-874dd1'
6a9f8bb7 タスクステート更新
7182f4ee 外来APIギャップ再検証計画の更新
...（以降 master と同一）</pre>
              </details>
              <details class="snapshot-details">
                <summary class="details-toggle">差分確認結果</summary>
                <pre>git diff --name-status master...task/task-1765258143095-41801a
(出力なし = 差分ゼロ)</pre>
              </details>
            </td>
            <td>
              <div class="agent-meta"><span class="status-badge status-badge--error">失格</span> master と完全一致。再検証成果なし。</div>
              <div class="radar-wrap">
                <svg class="radar-svg radar" viewBox="0 0 180 180" data-scores="18,16,14,14,20,28"></svg>
                <ul class="metric-list">
                  <li>機能合理性 18</li>
                  <li>緻密性 16</li>
                  <li>テスト網羅 14</li>
                  <li>ログ/証跡 14</li>
                  <li>UXトーン 20</li>
                  <li>整合性 28</li>
                </ul>
              </div>
              <details class="snapshot-details">
                <summary class="details-toggle">コミットログ</summary>
                <pre>e62be433 Merge branch 'task/task-1765256554006-874dd1'
6a9f8bb7 タスクステート更新
7182f4ee 外来APIギャップ再検証計画の更新
...（以降 master と同一）</pre>
              </details>
              <details class="snapshot-details">
                <summary class="details-toggle">差分確認結果</summary>
                <pre>git diff --name-status master...task/task-1765258143179-de7fdd
(出力なし = 差分ゼロ)</pre>
              </details>
            </td>
            <td>
              <div class="agent-meta"><span class="status-badge status-badge--error">失格</span> master と完全一致。成果物未提出。</div>
              <div class="radar-wrap">
                <svg class="radar-svg radar" viewBox="0 0 180 180" data-scores="17,15,13,13,19,28"></svg>
                <ul class="metric-list">
                  <li>機能合理性 17</li>
                  <li>緻密性 15</li>
                  <li>テスト網羅 13</li>
                  <li>ログ/証跡 13</li>
                  <li>UXトーン 19</li>
                  <li>整合性 28</li>
                </ul>
              </div>
              <details class="snapshot-details">
                <summary class="details-toggle">コミットログ</summary>
                <pre>e62be433 Merge branch 'task/task-1765256554006-874dd1'
6a9f8bb7 タスクステート更新
7182f4ee 外来APIギャップ再検証計画の更新
...（以降 master と同一）</pre>
              </details>
              <details class="snapshot-details">
                <summary class="details-toggle">差分確認結果</summary>
                <pre>git diff --name-status master...task/task-1765258142705-2cdfba
(出力なし = 差分ゼロ)</pre>
              </details>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <script>
      document.querySelectorAll('.radar').forEach(svg => {
        const scores = svg.dataset.scores.split(',').map(Number);
        const center = 90, radius = 70, max = 100, sides = scores.length;
        const angleStep = (Math.PI * 2) / sides;
        const gridSteps = 5;
        const ns = 'http://www.w3.org/2000/svg';
        for (let g = 1; g <= gridSteps; g++) {
          const r = (radius / gridSteps) * g;
          const path = document.createElementNS(ns, 'polygon');
          const pts = [];
          for (let i = 0; i < sides; i++) {
            const angle = -Math.PI / 2 + angleStep * i;
            const x = center + r * Math.cos(angle);
            const y = center + r * Math.sin(angle);
            pts.push(`${x},${y}`);
          }
          path.setAttribute('points', pts.join(' '));
          path.setAttribute('fill', 'none');
          path.setAttribute('stroke', '#c4d3d7');
          path.setAttribute('stroke-width', '0.6');
          svg.appendChild(path);
        }
        for (let i = 0; i < sides; i++) {
          const angle = -Math.PI / 2 + angleStep * i;
          const x = center + radius * Math.cos(angle);
          const y = center + radius * Math.sin(angle);
          const line = document.createElementNS(ns, 'line');
          line.setAttribute('x1', center);
          line.setAttribute('y1', center);
          line.setAttribute('x2', x);
          line.setAttribute('y2', y);
          line.setAttribute('stroke', '#d8e6e9');
          line.setAttribute('stroke-width', '0.6');
          svg.appendChild(line);
        }
        const dataPoly = document.createElementNS(ns, 'polygon');
        const pts = scores.map((v, i) => {
          const ratio = Math.max(0, Math.min(v / max, 1));
          const r = radius * ratio;
          const angle = -Math.PI / 2 + angleStep * i;
          const x = center + r * Math.cos(angle);
          const y = center + r * Math.sin(angle);
          return `${x},${y}`;
        });
        dataPoly.setAttribute('points', pts.join(' '));
        dataPoly.setAttribute('fill', 'rgba(226, 82, 82, 0.25)');
        dataPoly.setAttribute('stroke', '#d64545');
        dataPoly.setAttribute('stroke-width', '1.6');
        svg.appendChild(dataPoly);
      });
    </script>
  </body>
</html>
