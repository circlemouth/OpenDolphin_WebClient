<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ - 45 /api/orca/queue ã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º</title>
    <style>
      body {
        font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        margin: 24px;
        background-color: #e9f0f2;
        color: #1f2a30;
      }
      .monitor-wrapper {
        max-width: 1180px;
        margin: 0 auto;
        padding: 32px;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      .monitor-header {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 20px;
      }
      .monitor-title {
        font-size: 26px;
        font-weight: 700;
        letter-spacing: 0.04em;
        color: #1f2a30;
        margin: 0;
      }
      .monitor-description {
        font-size: 14px;
        color: #3a4b53;
        margin: 0;
      }
      .summary-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 12px;
        margin: 18px 0 22px;
      }
      .summary-card {
        background: #f7fbfc;
        border: 1px solid #c4d3d7;
        padding: 14px 16px;
      }
      .summary-card h2 {
        font-size: 13px;
        margin: 0 0 6px;
        color: #2c3a40;
      }
      .score-big {
        font-size: 30px;
        font-weight: 800;
        letter-spacing: 0.02em;
        margin: 0;
      }
      .score-sub {
        font-size: 12px;
        color: #3a4b53;
        margin: 4px 0 0;
      }
      .score-sub code {
        background: #eef3f4;
        padding: 0 6px;
        border: 1px solid #c4d3d7;
      }

      table.monitor-report {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      col.timestamp-column {
        width: 180px;
      }
      col.agent-column {
        width: calc((100% - 180px) / 2);
      }
      th,
      td {
        border: 1px solid #c4d3d7;
        padding: 16px;
        vertical-align: top;
        background-color: #ffffff;
      }
      th {
        background: #d8e6e9;
        text-align: left;
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #2c3a40;
      }
      tbody tr:nth-child(even) td {
        background-color: #eef3f4;
      }
      details {
        display: block;
        margin: 0;
      }
      details summary {
        list-style: none;
      }
      details[open] summary {
        margin-bottom: 12px;
      }
      .details-toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        font-weight: 500;
        font-size: 13px;
        color: #1f2a30;
        padding: 0;
        background: transparent;
        border: none;
      }
      .details-toggle::before {
        content: "â–¶";
        font-size: 10px;
        transition: transform 160ms ease;
        display: inline-block;
      }
      details[open] .details-toggle::before {
        transform: rotate(90deg);
      }
      .timestamp {
        font-weight: 600;
        color: #2c3a40;
        overflow-wrap: anywhere;
      }
      pre {
        white-space: pre-wrap;
        word-break: break-word;
        margin: 0;
        font-size: 12px;
        line-height: 1.55;
        color: #1f2a30;
        background: #f2f6f7;
        border: 1px solid #c4d3d7;
        padding: 16px;
      }
      .status-badge {
        display: inline-block;
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 0.02em;
        padding: 1px 6px;
        background: #d8e6e9;
        border: 1px solid #b8c9cd;
        color: #1f2a30;
        white-space: nowrap;
        line-height: 1.3;
        vertical-align: top;
      }
      .status-badge--completed {
        background: #c3d4d8;
        border-color: #aabfc5;
      }
      .agent-meta {
        display: grid;
        grid-template-columns: 150px 1fr;
        gap: 14px;
        margin-bottom: 12px;
        line-height: 1.5;
      }
      .agent-label {
        display: inline;
        font-size: 13px;
        color: #3a4b53;
      }
      .agent-title {
        font-size: 14px;
        font-weight: 700;
        color: #1f2a30;
        margin: 0;
      }
      .agent-sub {
        font-size: 12px;
        color: #3a4b53;
        margin: 4px 0 0;
      }
      .metric-list {
        margin: 10px 0 0;
        padding-left: 16px;
        color: #2c3a40;
        font-size: 12px;
      }
      .metric-list li {
        margin: 2px 0;
      }
      .links {
        margin: 10px 0 0;
        padding-left: 16px;
        color: #2c3a40;
        font-size: 12px;
      }
      .links li {
        margin: 2px 0;
      }
      .links a {
        color: #1f2a30;
      }

      .radar {
        width: 150px;
      }
      .radar svg {
        width: 150px;
        height: 150px;
        display: block;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      .radar .caption {
        font-size: 11px;
        color: #2c3a40;
        margin-top: 6px;
        line-height: 1.4;
      }
      .radar .caption code {
        background: #eef3f4;
        padding: 0 6px;
        border: 1px solid #c4d3d7;
      }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆï¼ˆ45 `/api/orca/queue` ã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼‰</h1>
        <p class="monitor-description">
          å¯¾è±¡: 2 ãƒ–ãƒ©ãƒ³ãƒï¼ˆworktree åˆ¥ï¼‰ã‚’æ¯”è¼ƒã—ã€æ©Ÿèƒ½åˆç†æ€§ãƒ»ç·»å¯†æ€§ã‚’ä¸­å¿ƒã«æ¡ç‚¹ã€‚ç›£æŸ»ãƒ¬ãƒãƒ¼ãƒˆã§ã¯ãªãã€Œè©•ä¾¡ã€ãƒ¬ãƒãƒ¼ãƒˆã€‚
        </p>
        <p class="monitor-description">
          ã‚¿ã‚¹ã‚¯æ¦‚è¦: Charts ã« ORCA ã‚­ãƒ¥ãƒ¼çŠ¶æ…‹ï¼ˆå¾…ã¡/å‡¦ç†ä¸­/æˆåŠŸ/å¤±æ•—ï¼‰ã‚’è¡¨ç¤ºã—ã€æ»ç•™ã‚„å¤±æ•—æ™‚ã«ç¾å ´ãŒåˆ¤æ–­ã§ãã‚‹ nextAction ã¨è¨¼è·¡ï¼ˆrunId/traceIdï¼‰ã‚’æ®‹ã™ã€‚
        </p>
      </header>

      <section class="summary-grid" aria-label="åˆè¨ˆç‚¹ã‚µãƒãƒª">
        <div class="summary-card">
          <h2>claude code / task-1766057758186-86c84a</h2>
          <p class="score-big">ğŸ¥ˆ 470 / 600</p>
          <p class="score-sub">ç·åˆã‚¹ã‚³ã‚¢æ›ç®—: <code>78</code> / 100ï¼ˆå¹³å‡ï¼‰</p>
        </div>
        <div class="summary-card">
          <h2>claude code / task-1766057758389-2575ee</h2>
          <p class="score-big">ğŸ¥‡ 486 / 600</p>
          <p class="score-sub">ç·åˆã‚¹ã‚³ã‚¢æ›ç®—: <code>81</code> / 100ï¼ˆå¹³å‡ï¼‰</p>
        </div>
      </section>

      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>claude code / task-1766057758186-86c84a</th>
            <th>claude code / task-1766057758389-2575ee</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2025-12-18 21:14 (JST)</td>
            <td>
              <div class="agent-meta">
                <div class="radar" data-scores="86,78,84,70,60,92" data-labels="æ©Ÿèƒ½åˆç†æ€§,ç·»å¯†æ€§,UX/ç¾å ´åˆ¤æ–­æ”¯æ´,ç›£æŸ»ãƒ»å¯è¦³æ¸¬æ€§,ãƒ†ã‚¹ãƒˆ/å›å¸°é…æ…®,ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ã‚¬ãƒãƒŠãƒ³ã‚¹">
                  <svg viewBox="0 0 160 160" role="img" aria-label="å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆï¼ˆtask-1766057758186-86c84aï¼‰">
                    <g class="grid"></g>
                    <polygon class="area" fill="rgba(64, 136, 156, 0.25)" stroke="#2c6f7e" stroke-width="2"></polygon>
                  </svg>
                  <div class="caption">
                    åˆè¨ˆ <code>470</code> / 600
                  </div>
                </div>
                <div>
                  <div class="agent-label">
                    <span class="status-badge status-badge--completed">è©•ä¾¡å¯¾è±¡</span>
                    <span class="agent-title">å®Ÿè£…æ–¹é‡: Charts å†…ã§é€ä¿¡çŠ¶æ…‹ã‚’â€œå˜ä¸€èªå½™â€åŒ–ã—ã€ActionBar/Timeline/å³ãƒšã‚¤ãƒ³ã«é›†ç´„è¡¨ç¤º</span>
                    <p class="agent-sub">
                      å¼·ã¿: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆclaim queueï¼‰ã¾ã§å«ã‚ãŸæ­£è¦åŒ–ã€UI ä¸Šã« runId/traceId ã‚’éœ²å‡ºã€DoD ä»˜ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒåšã„ã€‚<br />
                      å¼±ã¿: ORCA ã‚­ãƒ¥ãƒ¼å–å¾—è‡ªä½“ã®ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆORCA_QUEUE_STATUSï¼‰ç™ºç«ãƒ»æŠ‘åˆ¶ãªã©ã®ã€Œè¨¼è·¡ãƒ­ã‚°è¨­è¨ˆã€ã¯è–„ã‚ã€‚
                    </p>
                  </div>

                  <ul class="metric-list">
                    <li>æ©Ÿèƒ½åˆç†æ€§ 86ç‚¹: `/api/orca/queue` å„ªå…ˆï¼‹ claim queue ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ã€Œå¾…ã¡/å‡¦ç†ä¸­/æˆåŠŸ/å¤±æ•—ã€ã‚’ä¸€è²«è¡¨ç¤º</li>
                    <li>ç·»å¯†æ€§ 78ç‚¹: æ»ç•™ï¼ˆ5åˆ†ï¼‰åˆ¤å®šãƒ»nextAction ã¯æœ‰ç”¨ã€‚ãŸã ã—ãƒ­ã‚°æŠ‘åˆ¶/ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆã®è¨­è¨ˆãŒè–„ã„</li>
                    <li>UX/ç¾å ´åˆ¤æ–­æ”¯æ´ 84ç‚¹: å³ãƒšã‚¤ãƒ³ã«ä»¶æ•°å†…è¨³ï¼‹é¸æŠæ‚£è€…ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‹nextActionã€å†å–å¾—å°ç·šã‚ã‚Š</li>
                    <li>ç›£æŸ»ãƒ»å¯è¦³æ¸¬æ€§ 70ç‚¹: runId/traceId ã¯è¡¨ç¤ºã€‚ãŸã ã— UI state / ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆã¸ã¯æ˜ç¤ºçš„ã«é€å‡ºã—ã¦ã„ãªã„</li>
                    <li>ãƒ†ã‚¹ãƒˆ/å›å¸°é…æ…® 60ç‚¹: è¿½åŠ ãƒ­ã‚¸ãƒƒã‚¯ã«å¯¾ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯æœªè¿½åŠ ï¼ˆæ‰‹å‹•ç¢ºèªå‰æï¼‰</li>
                    <li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ã‚¬ãƒãƒŠãƒ³ã‚¹ 92ç‚¹: `DOC_STATUS` ã¨ `docs/web-client/README.md` ã‚’æ›´æ–°ã—ã€å®Ÿè£…ãƒ¡ãƒ¢/DoD ã‚’æ˜è¨˜</li>
                  </ul>

                  <ul class="links">
                    <li><a href="../../src/charts_production_outpatient/integration/45_orca_queueã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º.md">æˆæœç‰©: integration/45_orca_queueã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º.md</a></li>
                    <li><a href="../../src/charts_production_outpatient/integration/logs/20251218T113747Z-orca-queue-send-status.md">è¨¼è·¡: 20251218T113747Z-orca-queue-send-status.md</a></li>
                    <li><a href="../../web-client/src/features/charts/orcaQueueStatus.ts">å®Ÿè£…: web-client/src/features/charts/orcaQueueStatus.ts</a></li>
                    <li><a href="../../web-client/src/features/charts/DocumentTimeline.tsx">å®Ÿè£…: web-client/src/features/charts/DocumentTimeline.tsx</a></li>
                    <li><a href="../../web-client/src/features/charts/pages/ChartsPage.tsx">å®Ÿè£…: web-client/src/features/charts/pages/ChartsPage.tsx</a></li>
                    <li><a href="../../web-client/src/features/charts/ChartsActionBar.tsx">å®Ÿè£…: web-client/src/features/charts/ChartsActionBar.tsx</a></li>
                  </ul>

                  <details class="snapshot-details">
                    <summary class="details-toggle">ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚° / å·®åˆ†ã‚µãƒãƒª</summary>
                    <pre>å¯¾è±¡ãƒ–ãƒ©ãƒ³ãƒ: task/task-1766057758186-86c84a
base=70a70f23b725faf30d80bd51009989ebafc72bc5 (master)

-- log --
9c2b2bc2 (task/task-1766057758186-86c84a) docs: è¨¼è·¡ãƒ­ã‚°ã¸å®Ÿè£…ã‚³ãƒŸãƒƒãƒˆã‚’è¿½è¨˜ (RUN_ID=20251218T113747Z)
54941533 feat(charts): ORCAã‚­ãƒ¥ãƒ¼ã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º (RUN_ID=20251218T113747Z)

-- diff --stat --
docs/web-client/README.md                          |   8 +-
docs/web-client/planning/phase2/DOC_STATUS.md      |   1 +
src/charts_production_outpatient/integration/45_orca_queueã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º.md |  81 +++++++++
src/charts_production_outpatient/integration/logs/20251218T113747Z-orca-queue-send-status.md     |  25 +++
web-client/src/features/administration/api.ts      |   3 +
web-client/src/features/charts/ChartsActionBar.tsx |  28 ++-
web-client/src/features/charts/DocumentTimeline.tsx       | 187 ++++++++++++++++++---
web-client/src/features/charts/orcaQueueStatus.ts  | 155 +++++++++++++++++
web-client/src/features/charts/pages/ChartsPage.tsx       |  25 ++-
web-client/src/features/charts/styles.ts           |  24 +++
10 files changed, 504 insertions(+), 33 deletions(-)</pre>
                  </details>
                </div>
              </div>
            </td>

            <td>
              <div class="agent-meta">
                <div class="radar" data-scores="88,86,82,90,58,82" data-labels="æ©Ÿèƒ½åˆç†æ€§,ç·»å¯†æ€§,UX/ç¾å ´åˆ¤æ–­æ”¯æ´,ç›£æŸ»ãƒ»å¯è¦³æ¸¬æ€§,ãƒ†ã‚¹ãƒˆ/å›å¸°é…æ…®,ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ã‚¬ãƒãƒŠãƒ³ã‚¹">
                  <svg viewBox="0 0 160 160" role="img" aria-label="å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆï¼ˆtask-1766057758389-2575eeï¼‰">
                    <g class="grid"></g>
                    <polygon class="area" fill="rgba(64, 136, 156, 0.25)" stroke="#2c6f7e" stroke-width="2"></polygon>
                  </svg>
                  <div class="caption">
                    åˆè¨ˆ <code>486</code> / 600
                  </div>
                </div>
                <div>
                  <div class="agent-label">
                    <span class="status-badge status-badge--completed">è©•ä¾¡å¯¾è±¡</span>
                    <span class="agent-title">å®Ÿè£…æ–¹é‡: `/api/orca/queue` ã‚’å°‚ç”¨ API/ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å±¤ã«åˆ†é›¢ã—ã€UI state + ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆã§è¨¼è·¡ã‚’æ®‹ã™</span>
                    <p class="agent-sub">
                      å¼·ã¿: `ORCA_QUEUE_STATUS` ã‚’ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆåŒ–ã—ã€log æŠ‘åˆ¶ï¼ˆsnapshot hashï¼‰ã‚’å®Ÿè£…ã€‚API å±¤åˆ†é›¢ã§è²¬å‹™ãŒæ˜ç¢ºã€‚<br />
                      æ³¨æ„: åŒä¸€æ‚£è€…ã®è¤‡æ•°ã‚¨ãƒ³ãƒˆãƒªãŒè¿”ã‚‹å ´åˆã€é¸æŠæ‚£è€…ã® pick ãŒå…ˆé ­ä¸€è‡´ï¼ˆfindï¼‰ãªã®ã§ã€Œæœ€æ–°åˆ¤å®šã€ãŒå¼±ã„å¯èƒ½æ€§ã€‚
                    </p>
                  </div>

                  <ul class="metric-list">
                    <li>æ©Ÿèƒ½åˆç†æ€§ 88ç‚¹: `/api/orca/queue` ã‚’ 30ç§’ãƒãƒ¼ãƒªãƒ³ã‚°ã—ã€Timeline ã¨ ActionBar ã®ä¸¡æ–¹ã¸åæ˜ </li>
                    <li>ç·»å¯†æ€§ 86ç‚¹: status æ­£è¦åŒ–ãƒ»æ»ç•™åˆ¤å®šãƒ»counts é›†è¨ˆãƒ»ãƒ­ã‚°æŠ‘åˆ¶ã¾ã§ä¸€é€šã‚Šå®Ÿè£…</li>
                    <li>UX/ç¾å ´åˆ¤æ–­æ”¯æ´ 82ç‚¹: Timeline å´ã® nextAction ãŒæ˜ç¢ºã€‚ActionBar ã¸ã®åæ˜ ã¯ claim queue çµ±åˆã§å®Ÿç¾</li>
                    <li>ç›£æŸ»ãƒ»å¯è¦³æ¸¬æ€§ 90ç‚¹: `logUiState(screen=charts/orca-queue)` ã¨ `recordChartsAuditEvent(ORCA_QUEUE_STATUS)` ã‚’å®Ÿè£…</li>
                    <li>ãƒ†ã‚¹ãƒˆ/å›å¸°é…æ…® 58ç‚¹: è¿½åŠ ãƒ­ã‚¸ãƒƒã‚¯ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã¯æœªè¿½åŠ ã€‚å°†æ¥ã®å›å¸°æ¤œå‡ºãŒèª²é¡Œ</li>
                    <li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ã‚¬ãƒãƒŠãƒ³ã‚¹ 82ç‚¹: `DOC_STATUS` ã¨è¨¼è·¡ãƒ­ã‚°ã¯æ›´æ–°ã€‚Web-client hubï¼ˆREADMEï¼‰å´ã¸ã®åæ˜ ã¯ç„¡ã—</li>
                  </ul>

                  <ul class="links">
                    <li><a href="../../src/charts_production_outpatient/integration/45_orca_queueã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º.md">æˆæœç‰©: integration/45_orca_queueã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º.md</a></li>
                    <li><a href="../../src/charts_production_outpatient/integration/logs/20251218T114241Z-orca-queue-send-status.md">è¨¼è·¡: 20251218T114241Z-orca-queue-send-status.md</a></li>
                    <li><a href="../../web-client/src/features/outpatient/orcaQueueApi.ts">å®Ÿè£…: web-client/src/features/outpatient/orcaQueueApi.ts</a></li>
                    <li><a href="../../web-client/src/features/outpatient/orcaQueueStatus.ts">å®Ÿè£…: web-client/src/features/outpatient/orcaQueueStatus.ts</a></li>
                    <li><a href="../../web-client/src/features/charts/pages/ChartsPage.tsx">å®Ÿè£…: web-client/src/features/charts/pages/ChartsPage.tsx</a></li>
                    <li><a href="../../web-client/src/features/charts/audit.ts">å®Ÿè£…: web-client/src/features/charts/audit.ts</a></li>
                  </ul>

                  <details class="snapshot-details">
                    <summary class="details-toggle">ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚° / å·®åˆ†ã‚µãƒãƒª</summary>
                    <pre>å¯¾è±¡ãƒ–ãƒ©ãƒ³ãƒ: task/task-1766057758389-2575ee
base=70a70f23b725faf30d80bd51009989ebafc72bc5 (master)

-- log --
0bb1b7df (task/task-1766057758389-2575ee) RUN_ID=20251218T114241Z: Charts ORCA queue send status

-- diff --stat --
docs/web-client/planning/phase2/DOC_STATUS.md      |   2 +
src/charts_production_outpatient/integration/45_orca_queueã¨é€ä¿¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º.md |  35 +++++
src/charts_production_outpatient/integration/logs/20251218T114241Z-orca-queue-send-status.md     |  28 ++++
web-client/src/features/administration/api.ts      |  60 +-------
web-client/src/features/charts/ChartsActionBar.tsx |  27 +++-
web-client/src/features/charts/DocumentTimeline.tsx       | 154 +++++++++++++++++++--
web-client/src/features/charts/audit.ts            |   7 +
web-client/src/features/charts/pages/ChartsPage.tsx       | 133 +++++++++++++++++-
web-client/src/features/charts/styles.ts           |   9 +-
web-client/src/features/outpatient/orcaQueueApi.ts |  79 +++++++++++
web-client/src/features/outpatient/orcaQueueStatus.ts     |  74 ++++++++++
11 files changed, 537 insertions(+), 71 deletions(-)</pre>
                  </details>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      // å…­è§’å½¢ï¼ˆ6è»¸ï¼‰ãƒãƒ£ãƒ¼ãƒˆã‚’ data-scores / data-labels ã‹ã‚‰æç”»ã™ã‚‹ã€‚
      (function () {
        function polarPoint(cx, cy, r, angleRad) {
          return { x: cx + r * Math.cos(angleRad), y: cy + r * Math.sin(angleRad) };
        }
        function buildPolygonPoints(scores, cx, cy, radius) {
          var points = [];
          for (var i = 0; i < 6; i++) {
            var angle = -Math.PI / 2 + (Math.PI * 2 * i) / 6;
            var value = Math.max(0, Math.min(100, scores[i] || 0)) / 100;
            var p = polarPoint(cx, cy, radius * value, angle);
            points.push(p.x.toFixed(1) + "," + p.y.toFixed(1));
          }
          return points.join(" ");
        }
        function buildHexGrid(cx, cy, radius) {
          var group = document.createDocumentFragment();
          var levels = [0.2, 0.4, 0.6, 0.8, 1.0];
          for (var li = 0; li < levels.length; li++) {
            var r = radius * levels[li];
            var pts = [];
            for (var i = 0; i < 6; i++) {
              var angle = -Math.PI / 2 + (Math.PI * 2 * i) / 6;
              var p = polarPoint(cx, cy, r, angle);
              pts.push(p.x.toFixed(1) + "," + p.y.toFixed(1));
            }
            var poly = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
            poly.setAttribute("points", pts.join(" "));
            poly.setAttribute("fill", "none");
            poly.setAttribute("stroke", "#d0dde0");
            poly.setAttribute("stroke-width", "1");
            group.appendChild(poly);
          }
          for (var i = 0; i < 6; i++) {
            var angle = -Math.PI / 2 + (Math.PI * 2 * i) / 6;
            var p = polarPoint(cx, cy, radius, angle);
            var line = document.createElementNS("http://www.w3.org/2000/svg", "line");
            line.setAttribute("x1", cx);
            line.setAttribute("y1", cy);
            line.setAttribute("x2", p.x);
            line.setAttribute("y2", p.y);
            line.setAttribute("stroke", "#d0dde0");
            line.setAttribute("stroke-width", "1");
            group.appendChild(line);
          }
          return group;
        }

        var radars = document.querySelectorAll(".radar");
        radars.forEach(function (radar) {
          var scores = (radar.getAttribute("data-scores") || "")
            .split(",")
            .map(function (v) { return parseInt(v.trim(), 10) || 0; });
          while (scores.length < 6) scores.push(0);

          var svg = radar.querySelector("svg");
          if (!svg) return;
          var grid = svg.querySelector(".grid");
          if (grid) {
            grid.appendChild(buildHexGrid(80, 80, 60));
          }
          var area = svg.querySelector(".area");
          if (area) {
            area.setAttribute("points", buildPolygonPoints(scores, 80, 80, 60));
          }
        });
      })();
    </script>
  </body>
</html>

