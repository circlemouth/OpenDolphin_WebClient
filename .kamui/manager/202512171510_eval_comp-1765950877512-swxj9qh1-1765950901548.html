<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ</title>
    <style>
      body { font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; margin: 24px; background-color: #e9f0f2; color: #1f2a30; }
      .monitor-wrapper { max-width: 1180px; margin: 0 auto; padding: 32px; background: #ffffff; border: 1px solid #c4d3d7; }
      .monitor-header { display: flex; flex-direction: column; gap: 8px; margin-bottom: 24px; }
      .monitor-title { font-size: 26px; font-weight: 700; letter-spacing: 0.04em; color: #1f2a30; }
      .monitor-description { font-size: 14px; color: #3a4b53; }
      table.monitor-report { width: 100%; border-collapse: collapse; table-layout: fixed; background: #ffffff; border: 1px solid #c4d3d7; }
      col.timestamp-column { width: 180px; }
      col.agent-column { width: calc((100% - 180px) / 2); }
      th, td { border: 1px solid #c4d3d7; padding: 16px; vertical-align: top; background-color: #ffffff; }
      th { background: #d8e6e9; text-align: left; font-size: 13px; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; color: #2c3a40; }
      tbody tr:nth-child(even) td { background-color: #eef3f4; }
      details { display: block; margin: 0; }
      details summary { list-style: none; }
      details[open] summary { margin-bottom: 12px; }
      .details-toggle { display: inline-flex; align-items: center; gap: 6px; cursor: pointer; font-weight: 500; font-size: 13px; color: #1f2a30; padding: 0; background: transparent; border: none; }
      .details-toggle::before { content: "â–¶"; font-size: 10px; transition: transform 160ms ease; display: inline-block; }
      details[open] .details-toggle::before { transform: rotate(90deg); }
      .timestamp { font-weight: 600; color: #2c3a40; overflow-wrap: anywhere; }
      .snapshot-summary { margin-bottom: 12px; font-weight: 500; color: #2c3a40; }
      pre { white-space: pre-wrap; word-break: break-word; margin: 0; font-size: 12px; line-height: 1.55; color: #1f2a30; background: #f2f6f7; border: 1px solid #c4d3d7; padding: 16px; }
      .status-badge { display: inline-block; font-size: 10px; font-weight: 600; letter-spacing: 0.02em; padding: 1px 6px; background: #d8e6e9; border: 1px solid #b8c9cd; color: #1f2a30; white-space: nowrap; line-height: 1.3; vertical-align: top; }
      .status-badge--completed { background: #c3d4d8; border-color: #aabfc5; }
      .agent-meta { display: block; margin-bottom: 8px; line-height: 1.5; }
      .agent-meta .status-badge { margin-right: 6px; }
      .agent-meta .agent-label { display: inline; font-size: 13px; color: #3a4b53; }
      .score-header { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-weight: 700; font-size: 18px; }
      .trophy { font-size: 22px; }
      .hexchart { width: 180px; height: 180px; }
      .metric-list { margin: 8px 0 0; padding: 0; list-style: none; font-size: 12px; }
      .metric-list li { display: flex; justify-content: space-between; }
      .section-title { font-weight: 700; margin-top: 12px; margin-bottom: 6px; }
      .bullet { margin: 0 0 6px; font-size: 13px; }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">webclient charts 14 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹äºˆç®—ãƒ»è¨ˆæ¸¬å°å…¥ è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ</h1>
        <p class="monitor-description">ã‚¿ã‚¹ã‚¯æˆæœã‚’æ¯”è¼ƒè©•ä¾¡ã€‚å·¦åˆ—: task-1765950877715-178dafï¼ˆRUN_ID=20251217T060357Zï¼‰ã€å³åˆ—: task-1765950877513-651528ï¼ˆRUN_ID=20251217T060433Zï¼‰ã€‚</p>
      </header>
      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>Agent gemini cli / task-1765950877715-178daf</th>
            <th>Agent gemini cli / task-1765950877513-651528</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2025-12-17 15:10 JST</td>
            <td>
              <div class="score-header"><span class="trophy">ğŸ¥ˆ</span>åˆè¨ˆ 524 / 600 ç‚¹</div>
              <svg class="hexchart" viewBox="0 0 200 200" data-scores="86,82,88,80,84,90"></svg>
              <ul class="metric-list">
                <li>æ©Ÿèƒ½åˆç†æ€§ 86</li>
                <li>ç·»å¯†æ€§ 82</li>
                <li>KPIé©åˆ 88</li>
                <li>UXé…æ…® 80</li>
                <li>ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªè¨­è¨ˆ 84</li>
                <li>è¿½è·¡æ€§ 90</li>
              </ul>
              <div class="section-title">æ±ºå®šäº‹é …ã‚«ãƒãƒ¼</div>
              <p class="bullet">p75/p95 ç›®æ¨™ã¨ cacheHit ç›®æ¨™ã‚’æ˜ç¤ºã—ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ®µéšè¡¨ç¤ºã‚„ non-blocking UI ã‚’å®šç¾©ã€‚commit 9c186c5bã€‚</p>
              <div class="section-title">å¼·ã¿</div>
              <p class="bullet">è¨ˆæ¸¬é …ç›®ï¼ˆttfr/tti/api_latency/renderï¼‰ã‚’ telemetry + audit åŒæ–¹ã«æƒãˆã€runId/traceId ãƒãƒƒã‚·ãƒ¥åŒ–ã‚’æ˜è¨˜ã€‚</p>
              <div class="section-title">æ‡¸å¿µ/ä¸è¶³</div>
              <p class="bullet">è­¦å‘Š/é•åãƒ©ã‚¤ãƒ³ã‚„ Stage/Preview å†è¨ˆæ¸¬ã®å…·ä½“ç­–ãŒç°¡ç•¥ã€‚å®Ÿè£…ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã¯æ¦‚ç•¥ã«ç•™ã¾ã‚‹ã€‚</p>
            </td>
            <td>
              <div class="score-header"><span class="trophy">ğŸ†</span>åˆè¨ˆ 549 / 600 ç‚¹</div>
              <svg class="hexchart" viewBox="0 0 200 200" data-scores="92,90,94,88,93,92"></svg>
              <ul class="metric-list">
                <li>æ©Ÿèƒ½åˆç†æ€§ 92</li>
                <li>ç·»å¯†æ€§ 90</li>
                <li>KPIé©åˆ 94</li>
                <li>UXé…æ…® 88</li>
                <li>ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªè¨­è¨ˆ 93</li>
                <li>è¿½è·¡æ€§ 92</li>
              </ul>
              <div class="section-title">æ±ºå®šäº‹é …ã‚«ãƒãƒ¼</div>
              <p class="bullet">P95 äºˆç®—ã«è­¦å‘Š/é•åãƒ©ã‚¤ãƒ³ã‚’è¨­å®šã—ã€ToneBanner æ˜‡æ ¼ã‚„ data-* å±æ€§ã§ã®å¯è¦³æ¸¬æ€§å‘ä¸Šã‚’è¿½åŠ ã€‚commit 4feb88a7ã€‚</p>
              <div class="section-title">å¼·ã¿</div>
              <p class="bullet">è¨ˆæ¸¬ã‚­ãƒ¼ã¨ telemetry/audit ã®ã‚­ãƒ¼æ•´åˆãŒæ˜ç¢ºã€‚æ¤œè¨¼ãƒ•ãƒ­ãƒ¼ (MSWâ†’dev proxyâ†’Stage) ã¨ã‚¢ãƒ©ãƒ¼ãƒˆé‹ç”¨ã¾ã§è¨˜è¼‰ã€‚</p>
              <div class="section-title">æ‡¸å¿µ/ä¸è¶³</div>
              <p class="bullet">å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã¯æœªç€æ‰‹ã€‚backend ã‚¹ã‚­ãƒ¼ãƒæœªæ±ºãƒ»polyfillç¢ºèªãªã©ä¾å­˜ã‚¿ã‚¹ã‚¯ãŒæ®‹å­˜ã€‚</p>
            </td>
          </tr>
          <tr>
            <td class="timestamp">è£œè¶³</td>
            <td>
              <div class="agent-meta"><span class="status-badge status-badge--completed">completed</span><span class="agent-label">è¨ˆç”»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ ãƒ»DOC_STATUS æ›´æ–°ã€‚</span></div>
              <details class="snapshot-details">
                <summary class="details-toggle">ã‚³ãƒŸãƒƒãƒˆ/å·®åˆ†</summary>
                <pre>commit 9c186c5b Add charts performance budget plan (RUN_ID=20251217T060357Z)
- æ–°è¦: src/charts_production_outpatient/foundation/14_ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹äºˆç®—ã¨è¨ˆæ¸¬å°å…¥.md
- ãƒ­ã‚°: docs/web-client/planning/phase2/logs/20251217T060357Z-charts-performance-budget.md
- DOC_STATUS æ›´æ–°ï¼ˆRUN_ID åˆ‡æ›¿ãƒ»è¨¼è·¡ãƒªãƒ³ã‚¯è¿½è¨˜ï¼‰</pre>
              </details>
            </td>
            <td>
              <div class="agent-meta"><span class="status-badge status-badge--completed">completed</span><span class="agent-label">è¨ˆç”»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/README/DOC_STATUS ã‚’åŒæœŸã€‚</span></div>
              <details class="snapshot-details">
                <summary class="details-toggle">ã‚³ãƒŸãƒƒãƒˆ/å·®åˆ†</summary>
                <pre>commit 4feb88a7 Add charts performance budget plan and log (RUN_ID=20251217T060433Z)
- æ–°è¦: src/charts_production_outpatient/foundation/14_ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹äºˆç®—ã¨è¨ˆæ¸¬å°å…¥.md
- ãƒ­ã‚°: docs/web-client/planning/phase2/logs/20251217T060433Z-charts-performance-budget.md
- README å‚ç…§ãƒã‚§ãƒ¼ãƒ³è¿½åŠ  / DOC_STATUS è¡Œè¿½åŠ </pre>
              </details>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <script>
      (() => {
        function render(svg) {
          const scores = svg.dataset.scores.split(',').map(Number);
          const maxR = 80;
          const center = 100;
          const angleStep = (Math.PI * 2) / scores.length;
          const points = scores.map((s, i) => {
            const r = (s / 100) * maxR;
            const angle = -Math.PI / 2 + i * angleStep;
            const x = center + r * Math.cos(angle);
            const y = center + r * Math.sin(angle);
            return `${x},${y}`;
          }).join(' ');
          svg.innerHTML = `
            <polygon points="${points}" fill="#6bb4c8" fill-opacity="0.45" stroke="#2e7083" stroke-width="2"></polygon>
            <circle cx="100" cy="100" r="80" fill="none" stroke="#c4d3d7" stroke-dasharray="4 4"></circle>
          `;
        }
        document.querySelectorAll('svg.hexchart').forEach(render);
      })();
    </script>
  </body>
</html>
