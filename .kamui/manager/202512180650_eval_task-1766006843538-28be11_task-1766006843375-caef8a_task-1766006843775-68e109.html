<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ</title>
    <style>
      body {
        font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        margin: 24px;
        background-color: #e9f0f2;
        color: #1f2a30;
      }
      .monitor-wrapper {
        max-width: 1180px;
        margin: 0 auto;
        padding: 32px;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      .monitor-header {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 24px;
      }
      .monitor-title {
        font-size: 26px;
        font-weight: 700;
        letter-spacing: 0.04em;
        color: #1f2a30;
      }
      .monitor-description {
        font-size: 14px;
        color: #3a4b53;
      }
      .scoreboard {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 12px;
        margin-bottom: 20px;
      }
      .score-item {
        padding: 12px 14px;
        border: 1px solid #c4d3d7;
        background: #f6fafb;
        border-radius: 6px;
        font-weight: 600;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      table.monitor-report {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      col.timestamp-column { width: 180px; }
      col.agent-column { width: calc((100% - 180px) / 3); }
      th, td {
        border: 1px solid #c4d3d7;
        padding: 16px;
        vertical-align: top;
        background-color: #ffffff;
      }
      th {
        background: #d8e6e9;
        text-align: left;
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #2c3a40;
      }
      tbody tr:nth-child(even) td { background-color: #eef3f4; }
      details { display: block; margin: 0; }
      details summary { list-style: none; }
      details[open] summary { margin-bottom: 12px; }
      .details-toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        font-weight: 500;
        font-size: 13px;
        color: #1f2a30;
        padding: 0;
        background: transparent;
        border: none;
      }
      .details-toggle::before {
        content: "â–¶";
        font-size: 10px;
        transition: transform 160ms ease;
        display: inline-block;
      }
      details[open] .details-toggle::before { transform: rotate(90deg); }
      .timestamp { font-weight: 600; color: #2c3a40; overflow-wrap: anywhere; }
      .snapshot-summary { margin: 12px 0 6px; font-weight: 600; color: #2c3a40; }
      ul { margin: 0 0 8px 18px; padding: 0; }
      li { margin-bottom: 6px; }
      pre {
        white-space: pre-wrap;
        word-break: break-word;
        margin: 0;
        font-size: 12px;
        line-height: 1.55;
        color: #1f2a30;
        background: #f2f6f7;
        border: 1px solid #c4d3d7;
        padding: 16px;
      }
      .status-badge {
        display: inline-block;
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 0.02em;
        padding: 1px 6px;
        background: #d8e6e9;
        border: 1px solid #b8c9cd;
        color: #1f2a30;
        white-space: nowrap;
        line-height: 1.3;
        vertical-align: top;
        border-radius: 3px;
      }
      .status-badge--completed { background: #c3d4d8; border-color: #aabfc5; }
      .status-badge--error { background: #f8d7da; border-color: #f1aeb5; }
      .status-badge--pending { background: #e3edf0; border-color: #cdd9dd; }
      .agent-meta { display: block; margin-bottom: 8px; line-height: 1.5; }
      .agent-meta .status-badge { margin-right: 6px; }
      .agent-meta .agent-label { display: inline; font-size: 13px; color: #3a4b53; }
      .radar-wrap { display: flex; gap: 10px; align-items: center; margin: 8px 0 10px; }
      .radar svg { width: 160px; height: 140px; }
      .metric-list { font-size: 12px; color: #2c3a40; line-height: 1.5; }
      .metric-list div { margin-bottom: 4px; }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ</h1>
        <p class="monitor-description">Charts å¤–æ¥ a11y ã‚¿ã‚¹ã‚¯ï¼ˆYAML ID: src/charts_production_outpatient/quality/51_ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è‡ªå‹•æ¤œæŸ»ã¨æ‰‹å‹•ç›£æŸ».mdï¼‰ã®å®Œäº†åº¦ã‚’ 3 ãƒ–ãƒ©ãƒ³ãƒã§è©•ä¾¡ã€‚</p>
      </header>

      <div class="scoreboard">
        <div class="score-item">task-1766006843375-caef8a <span>ğŸ¥ˆ 518 / 600</span></div>
        <div class="score-item">task-1766006843538-28be11 <span>ğŸ¥‰ 320 / 600</span></div>
        <div class="score-item">task-1766006843775-68e109 <span>âŒ 50 / 600</span></div>
      </div>

      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>Agent task-1766006843538-28be11</th>
            <th>Agent task-1766006843375-caef8a</th>
            <th>Agent task-1766006843775-68e109</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2025-12-18 06:50</td>
            <td>
              <div class="agent-meta">
                <span class="status-badge status-badge--error">æœªå®Œäº†</span>
                <span class="agent-label">ğŸ¥‰ 320/600ï¼ˆç·åˆã‚¹ã‚³ã‚¢ 53ï¼‰</span>
              </div>
              <div class="radar-wrap">
                <div class="radar">
                  <svg viewBox="0 0 160 140" role="img" aria-label="å…­è§’å½¢ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ">
                    <polygon points="80,10 132,40 132,100 80,130 28,100 28,40" fill="#eef3f4" stroke="#b8c9cd" stroke-width="1" />
                    <polygon points="80,34 109,54 106,85 80,94 49,88 51,54" fill="#f4c7c3" stroke="#e08a7b" stroke-width="1.5" />
                  </svg>
                </div>
                <div class="metric-list">
                  <div>ã‚³ãƒ¼ãƒ‰å“è³ª 60ç‚¹</div>
                  <div>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é©åˆ 55ç‚¹</div>
                  <div>ãƒ†ã‚¹ãƒˆç¶²ç¾…æ€§ 50ç‚¹</div>
                  <div>å®Ÿè¡Œå®‰å®šæ€§ 40ç‚¹</div>
                  <div>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ 60ç‚¹</div>
                  <div>å†ç¾æ€§ 55ç‚¹</div>
                </div>
              </div>
              <div class="snapshot-summary">ä¸»ãªæ‰€è¦‹</div>
              <ul>
                <li>axe è‡ªå‹•æ¤œæŸ»ã¯ <code>tests/e2e/charts-a11y.spec.ts</code> ã§è¿½åŠ ã—ãŸãŒã€PatientsTab ã® <code>aria-required-children</code> é‡å¤§é•åãŒæ®‹å­˜ã—ãƒ†ã‚¹ãƒˆå¤±æ•—ã€‚</li>
                <li>ChartsActionBar ã§ <code>Maximum update depth exceeded</code> ãŒå†ç¾ã€‚ç„¡é™ãƒ«ãƒ¼ãƒ—åŸå› ã‚’æœªè§£æ¶ˆã®ã¾ã¾ artifacts ã‚’æ®‹å­˜ã€‚</li>
                <li>æˆæœç‰©ãƒ»è¨¼è·¡ <code>artifacts/webclient/e2e/20251217T173230Z/</code> ã¨ <code>test-results/tests-e2e-charts-a11y--a11-aca4f-or-aria-live-roles-tabindex/</code> ã¯æœªã‚³ãƒŸãƒƒãƒˆã€node_modules ã‚‚ä¸¸ã”ã¨æ®‹ç½®ã€‚</li>
                <li>Playwright è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³ã‚’ <code>AppRouter.tsx</code> ã¸è¿½åŠ ï¼ˆç’°å¢ƒå¤‰æ•°ã‚¬ãƒ¼ãƒ‰ä»˜ãï¼‰ã§ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã¯å‘ä¸Šã€‚</li>
              </ul>
              <details class="snapshot-details">
                <summary class="details-toggle">ãƒ­ã‚°ãƒ»å·®åˆ†æ¦‚è¦</summary>
                <pre>æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´å¤šæ•°ï¼ˆpackage.json, playwright.config.ts, AppRouter.tsx, tests/e2e/charts-a11y.spec.ts ã»ã‹ï¼‰ã€‚æœ€æ–°ã‚³ãƒŸãƒƒãƒˆã¯ 3994681f (merge) ã§å®Ÿè£…ã‚³ãƒŸãƒƒãƒˆãªã—ã€‚</pre>
              </details>
            </td>
            <td>
              <div class="agent-meta">
                <span class="status-badge status-badge--completed">è©•ä¾¡æ¸ˆ</span>
                <span class="agent-label">ğŸ¥ˆ 518/600ï¼ˆç·åˆã‚¹ã‚³ã‚¢ 86ï¼‰</span>
              </div>
              <div class="radar-wrap">
                <div class="radar">
                  <svg viewBox="0 0 160 140" role="img" aria-label="å…­è§’å½¢ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ">
                    <polygon points="80,10 132,40 132,100 80,130 28,100 28,40" fill="#eef3f4" stroke="#b8c9cd" stroke-width="1" />
                    <polygon points="80,21 127,43 126,96 80,118 32,98 35,44" fill="#c9e7d6" stroke="#5da67d" stroke-width="1.5" />
                  </svg>
                </div>
                <div class="metric-list">
                  <div>ã‚³ãƒ¼ãƒ‰å“è³ª 82ç‚¹</div>
                  <div>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é©åˆ 90ç‚¹</div>
                  <div>ãƒ†ã‚¹ãƒˆç¶²ç¾…æ€§ 88ç‚¹</div>
                  <div>å®Ÿè¡Œå®‰å®šæ€§ 80ç‚¹</div>
                  <div>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ 92ç‚¹</div>
                  <div>å†ç¾æ€§ 86ç‚¹</div>
                </div>
              </div>
              <div class="snapshot-summary">ä¸»ãªæ‰€è¦‹</div>
              <ul>
                <li>Vitest + <code>vitest-axe</code> ã«ã‚ˆã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½“ a11y ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ï¼š<code>web-client/src/features/charts/__tests__/chartsAccessibility.test.tsx</code>ã€‚</li>
                <li><code>ToneBanner</code> ã® <code>role="alert"</code>/<code>aria-live</code>ã€<code>ChartsActionBar</code> ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹é †ã¨ <code>aria-describedby</code> ãƒ–ãƒ­ãƒƒã‚¯ç†ç”±ã‚’æ¤œè¨¼ã—ã€é‡å¤§é•å 0 ä»¶ã‚’ç¢ºèªã€‚</li>
                <li>DOC_STATUS ã¨ README ã‚’æ›´æ–°ã—ã€RUN_ID=`20251217T212939Z` ã§è¨¼è·¡ <code>docs/web-client/planning/phase2/logs/20251217T212939Z-charts-a11y.md</code> ã‚’ç´ä»˜ã‘ã€‚</li>
                <li>æœªã‚³ãƒŸãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã ãŒ node_modules æ±šæŸ“ãªã—ã€‚ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¯ jsdom ç¯„å›²ã§å®‰å®šã€Playwright ç‰ˆã¯æœªå®Ÿè£…ã€‚</li>
              </ul>
              <details class="snapshot-details">
                <summary class="details-toggle">ãƒ­ã‚°ãƒ»å·®åˆ†æ¦‚è¦</summary>
                <pre>å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«: docs/web-client/README.md, docs/web-client/planning/phase2/DOC_STATUS.md, web-client/src/features/charts/__tests__/chartsAccessibility.test.tsx, web-client/src/test/setupTests.ts, src/charts_production_outpatient/quality/51_ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è‡ªå‹•æ¤œæŸ»ã¨æ‰‹å‹•ç›£æŸ».md ãªã©ã€‚æœ€æ–°ã‚³ãƒŸãƒƒãƒˆ 3994681f (merge) ä»¥é™ã¯æœªã‚³ãƒŸãƒƒãƒˆã€‚</pre>
              </details>
            </td>
            <td>
              <div class="agent-meta">
                <span class="status-badge status-badge--pending">ä½œæ¥­ãªã—</span>
                <span class="agent-label">âŒ 50/600ï¼ˆç·åˆã‚¹ã‚³ã‚¢ 10ï¼‰</span>
              </div>
              <div class="radar-wrap">
                <div class="radar">
                  <svg viewBox="0 0 160 140" role="img" aria-label="å…­è§’å½¢ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ">
                    <polygon points="80,10 132,40 132,100 80,130 28,100 28,40" fill="#eef3f4" stroke="#b8c9cd" stroke-width="1" />
                    <polygon points="80,58 80,70 80,70 80,82 80,70 75,67" fill="#f1e0b5" stroke="#d1b45f" stroke-width="1.5" />
                  </svg>
                </div>
                <div class="metric-list">
                  <div>ã‚³ãƒ¼ãƒ‰å“è³ª 20ç‚¹</div>
                  <div>ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é©åˆ 0ç‚¹</div>
                  <div>ãƒ†ã‚¹ãƒˆç¶²ç¾…æ€§ 0ç‚¹</div>
                  <div>å®Ÿè¡Œå®‰å®šæ€§ 20ç‚¹</div>
                  <div>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ 0ç‚¹</div>
                  <div>å†ç¾æ€§ 10ç‚¹</div>
                </div>
              </div>
              <div class="snapshot-summary">ä¸»ãªæ‰€è¦‹</div>
              <ul>
                <li>ãƒ–ãƒ©ãƒ³ãƒã¯æœ€æ–° merge ã®ã¿ã§ã‚¿ã‚¹ã‚¯å®Ÿè£…ãªã—ã€‚git status ã‚¯ãƒªãƒ¼ãƒ³ã€æˆæœç‰©ãªã—ã€‚</li>
                <li>è©•ä¾¡å¯¾è±¡ã‚¿ã‚¹ã‚¯ã«é–¢é€£ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ ãŒç„¡ã„ãŸã‚å¤±æ ¼æ‰±ã„ã€‚</li>
              </ul>
              <details class="snapshot-details">
                <summary class="details-toggle">ãƒ­ã‚°ãƒ»å·®åˆ†æ¦‚è¦</summary>
                <pre>æœ€æ–°ã‚³ãƒŸãƒƒãƒˆ 3994681f (merge)ã€‚å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ãªã—ã€‚</pre>
              </details>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
