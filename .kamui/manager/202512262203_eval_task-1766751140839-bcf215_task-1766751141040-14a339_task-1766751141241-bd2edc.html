<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ | JMS ORCA ACK æ¤œè¨¼</title>
    <style>
      body {
        font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        margin: 24px;
        background-color: #e9f0f2;
        color: #1f2a30;
      }
      .monitor-wrapper {
        max-width: 1180px;
        margin: 0 auto;
        padding: 32px;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      .monitor-header {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 24px;
      }
      .monitor-title {
        font-size: 26px;
        font-weight: 700;
        letter-spacing: 0.04em;
        color: #1f2a30;
      }
      .monitor-description {
        font-size: 14px;
        color: #3a4b53;
      }
      .task-summary {
        background: #f2f6f7;
        border: 1px solid #c4d3d7;
        padding: 16px;
        margin-bottom: 24px;
      }
      .task-summary h2 {
        margin: 0 0 8px 0;
        font-size: 16px;
      }
      .task-summary ul {
        margin: 0;
        padding-left: 18px;
        font-size: 13px;
        color: #2c3a40;
      }
      table.monitor-report {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      col.timestamp-column {
        width: 180px;
      }
      col.agent-column {
        width: calc((100% - 180px) / 3);
      }
      th,
      td {
        border: 1px solid #c4d3d7;
        padding: 16px;
        vertical-align: top;
        background-color: #ffffff;
      }
      th {
        background: #d8e6e9;
        text-align: left;
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #2c3a40;
      }
      tbody tr:nth-child(even) td {
        background-color: #eef3f4;
      }
      .timestamp {
        font-weight: 600;
        color: #2c3a40;
        overflow-wrap: anywhere;
      }
      .score-summary {
        display: flex;
        align-items: baseline;
        gap: 10px;
        margin-bottom: 12px;
      }
      .score-total {
        font-size: 28px;
        font-weight: 700;
        color: #1f2a30;
      }
      .score-sub {
        font-size: 12px;
        color: #5b6a70;
      }
      .score-medal {
        font-size: 22px;
      }
      .agent-meta {
        display: block;
        margin-bottom: 8px;
        line-height: 1.5;
      }
      .agent-meta .agent-label {
        display: inline;
        font-size: 13px;
        color: #3a4b53;
      }
      .status-badge {
        display: inline-block;
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 0.02em;
        padding: 1px 6px;
        background: #d8e6e9;
        border: 1px solid #b8c9cd;
        color: #1f2a30;
        white-space: nowrap;
        line-height: 1.3;
        vertical-align: top;
        margin-right: 6px;
      }
      .status-badge--completed {
        background: #c3d4d8;
        border-color: #aabfc5;
      }
      .status-badge--partial {
        background: #fef3cd;
        border-color: #f0e5a5;
      }
      .status-badge--blocked {
        background: #f8d7da;
        border-color: #f1aeb5;
      }
      .hex-wrap {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 8px;
      }
      .hex-chart {
        width: 180px;
        height: 180px;
      }
      .metric-list {
        font-size: 12px;
        color: #2c3a40;
        margin: 0;
        padding-left: 16px;
      }
      .metric-list li {
        margin-bottom: 2px;
      }
      .section-title {
        font-size: 13px;
        font-weight: 600;
        margin: 12px 0 6px 0;
        color: #2c3a40;
      }
      pre {
        white-space: pre-wrap;
        word-break: break-word;
        margin: 0;
        font-size: 12px;
        line-height: 1.55;
        color: #1f2a30;
        background: #f2f6f7;
        border: 1px solid #c4d3d7;
        padding: 12px;
      }
      a {
        color: #1b5f7a;
      }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ | JMS ORCA ACK æ¤œè¨¼ï¼ˆWildFly 33ï¼‰</h1>
        <p class="monitor-description">è©•ä¾¡å¯¾è±¡: task/task-1766751140839-bcf215, task/task-1766751141040-14a339, task/task-1766751141241-bd2edc / RUN_IDé›†è¨ˆ: 20251226T121342Z, 20251226T121353Z, 20251226T121350Z</p>
      </header>

      <section class="task-summary">
        <h2>ã‚¿ã‚¹ã‚¯å†…å®¹ãƒ»ä»•äº‹ã®æ¦‚è¦</h2>
        <ul>
          <li>WildFly 33 ã§ ORCA é€ä¿¡ã¨ ACK/NAK å—ä¿¡ã‚’å®Ÿæ¸¬ã—ã€JMS ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¨ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆã®çªåˆã‚’è¡Œã†ã€‚</li>
          <li>task-1766751140839-bcf215 ã¯ ACK ã‚¹ã‚¿ãƒ–ã§ ACK å—ä¿¡ã‚’ç¢ºèªï¼ˆå®Ÿ ORCA ã§ã¯ãªã„ï¼‰ã€‚</li>
          <li>task-1766751141040-14a339 ã¯å®Ÿ ORCA æ¥ç¶šã‚’è©¦ã¿ãŸãŒ Connection refused ã«ã‚ˆã‚Š ACK æœªå—ä¿¡ã€‚</li>
          <li>task-1766751141241-bd2edc ã¯æœªã‚³ãƒŸãƒƒãƒˆã§ ACK å®Ÿæ¸¬æœªå®Œäº†ã€ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚’è¨˜éŒ²ã€‚</li>
        </ul>
      </section>

      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>worker-audit-jms<br />task-1766751140839-bcf215</th>
            <th>worker-audit-jms<br />task-1766751141040-14a339</th>
            <th>worker-audit-jms<br />task-1766751141241-bd2edc</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2025-12-26 22:03 JST</td>
            <td>
              <div class="score-summary">
                <span class="score-total">345/600</span>
                <span class="score-medal">ğŸ¥‰</span>
                <span class="score-sub">ç·åˆ 58ç‚¹</span>
              </div>
              <div class="agent-meta">
                <span class="status-badge status-badge--partial">éƒ¨åˆ†å®Œäº†</span>
                <span class="agent-label">ACK ã¯ãƒ­ãƒ¼ã‚«ãƒ« ACK ã‚¹ã‚¿ãƒ–ã§ç¢ºèªã€‚å®Ÿ ORCA å®Ÿæ¸¬ã¯æœªé”ã€‚</span>
              </div>
              <div class="hex-wrap">
                <svg class="hex-chart" data-values="55,70,75,35,65,45" viewBox="0 0 200 200" aria-label="è©•ä¾¡æŒ‡æ¨™ãƒãƒ£ãƒ¼ãƒˆ"></svg>
                <ul class="metric-list">
                  <li>å®Œé‚åº¦ 55ç‚¹</li>
                  <li>è¨¼è·¡å“è³ª 70ç‚¹</li>
                  <li>ç›£æŸ»/JMSçªåˆ 75ç‚¹</li>
                  <li>ORCA ACK å®Ÿæ¸¬ 35ç‚¹</li>
                  <li>å†ç¾æ€§ 65ç‚¹</li>
                  <li>é‹ç”¨é©åˆ 45ç‚¹</li>
                </ul>
              </div>
              <div class="section-title">è©•ä¾¡ç†ç”±</div>
              <pre>ACK ãƒ­ã‚°ã¯å–å¾—ã§ããŸãŒã€æ˜è¨˜ã•ã‚Œã¦ã„ã‚‹é€šã‚Šãƒ­ãƒ¼ã‚«ãƒ« ACK ã‚¹ã‚¿ãƒ–ã§ã‚ã‚Šå®Ÿ ORCA ã§ã¯ãªã„ã€‚
ç›£æŸ»ã‚¤ãƒ™ãƒ³ãƒˆã¨ JMS ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ trace ã§çªåˆã•ã‚Œã¦ã„ã‚‹ãŸã‚è¨¼è·¡å“è³ªã¯ä¸€å®šæ°´æº–ã€‚
æœªã‚³ãƒŸãƒƒãƒˆã® tmp/claim-tests ãŒæ®‹ã£ã¦ãŠã‚Šé‹ç”¨æ•´å‚™ã¯ä¸è¶³ã€‚</pre>
              <div class="section-title">ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ï¼ˆmaster..branchï¼‰</div>
              <pre>2308eb82 JMS ORCA ACK æ¤œè¨¼ã®è¨¼è·¡ã‚’è¿½åŠ </pre>
              <div class="section-title">å·®åˆ†æ¦‚è¦</div>
              <pre>19 files changed, 207 insertions(+)</pre>
              <div class="section-title">æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´</div>
              <pre>?? tmp/claim-tests/</pre>
              <div class="section-title">æˆæœç‰©ãƒªãƒ³ã‚¯</div>
              <pre><a href="../../src/server_modernized_gap_20251221/08_evidence_package/JMS_ORCA_ACK_æ¤œè¨¼.md">JMS_ORCA_ACK_æ¤œè¨¼.md</a>
<a href="../../artifacts/parity-manual/JMS_ORCA_ACK/20251226T121342Z/">artifacts/parity-manual/JMS_ORCA_ACK/20251226T121342Z/</a></pre>
            </td>
            <td>
              <div class="score-summary">
                <span class="score-total">340/600</span>
                <span class="score-medal">ğŸ¥‰</span>
                <span class="score-sub">ç·åˆ 57ç‚¹</span>
              </div>
              <div class="agent-meta">
                <span class="status-badge status-badge--partial">éƒ¨åˆ†å®Œäº†</span>
                <span class="agent-label">å®Ÿ ORCA æ¥ç¶šã«å¤±æ•—ã— ACK æœªå—ä¿¡ã€‚JMS/ç›£æŸ»ã®çªåˆã¯å®Ÿæ–½ã€‚</span>
              </div>
              <div class="hex-wrap">
                <svg class="hex-chart" data-values="45,75,80,20,70,50" viewBox="0 0 200 200" aria-label="è©•ä¾¡æŒ‡æ¨™ãƒãƒ£ãƒ¼ãƒˆ"></svg>
                <ul class="metric-list">
                  <li>å®Œé‚åº¦ 45ç‚¹</li>
                  <li>è¨¼è·¡å“è³ª 75ç‚¹</li>
                  <li>ç›£æŸ»/JMSçªåˆ 80ç‚¹</li>
                  <li>ORCA ACK å®Ÿæ¸¬ 20ç‚¹</li>
                  <li>å†ç¾æ€§ 70ç‚¹</li>
                  <li>é‹ç”¨é©åˆ 50ç‚¹</li>
                </ul>
              </div>
              <div class="section-title">è©•ä¾¡ç†ç”±</div>
              <pre>å®Ÿ ORCA ã¸ã®é€ä¿¡ã‚’è©¦ã¿ãŸãŒ Connection refused ã«ã‚ˆã‚Š ACK/NAK ã‚’å—ä¿¡ã§ãã¦ã„ãªã„ã€‚
JMS queue ã®å¢—åˆ†ã¨ d_audit_event ã® trace çªåˆã¯ç¢ºèªæ¸ˆã¿ã§ã€è¨¼è·¡ã¯è©³ç´°ã€‚
æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã‚‹ãŸã‚å†ç¾æ€§ã¯ç¢ºä¿ã€‚</pre>
              <div class="section-title">ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ï¼ˆmaster..branchï¼‰</div>
              <pre>d87c43ef JMS ORCA ACK æ¤œè¨¼è¨¼è·¡ã‚’è¿½åŠ </pre>
              <div class="section-title">å·®åˆ†æ¦‚è¦</div>
              <pre>14 files changed, 273 insertions(+)</pre>
              <div class="section-title">æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´</div>
              <pre>ãªã—</pre>
              <div class="section-title">æˆæœç‰©ãƒªãƒ³ã‚¯</div>
              <pre><a href="../../src/server_modernized_gap_20251221/08_evidence_package/JMS_ORCA_ACK_æ¤œè¨¼.md">JMS_ORCA_ACK_æ¤œè¨¼.md</a>
<a href="../../artifacts/parity-manual/JMS_ORCA_ACK/20251226T121353Z/">artifacts/parity-manual/JMS_ORCA_ACK/20251226T121353Z/</a></pre>
            </td>
            <td>
              <div class="score-summary">
                <span class="score-total">125/600</span>
                <span class="score-medal">âšªï¸</span>
                <span class="score-sub">ç·åˆ 21ç‚¹</span>
              </div>
              <div class="agent-meta">
                <span class="status-badge status-badge--blocked">æœªå®Œäº†</span>
                <span class="agent-label">ãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆãŒãªãã€ACK å®Ÿæ¸¬æœªå®Œäº†ã€‚ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã®ã¿è¨˜éŒ²ã€‚</span>
              </div>
              <div class="hex-wrap">
                <svg class="hex-chart" data-values="20,30,25,0,30,20" viewBox="0 0 200 200" aria-label="è©•ä¾¡æŒ‡æ¨™ãƒãƒ£ãƒ¼ãƒˆ"></svg>
                <ul class="metric-list">
                  <li>å®Œé‚åº¦ 20ç‚¹</li>
                  <li>è¨¼è·¡å“è³ª 30ç‚¹</li>
                  <li>ç›£æŸ»/JMSçªåˆ 25ç‚¹</li>
                  <li>ORCA ACK å®Ÿæ¸¬ 0ç‚¹</li>
                  <li>å†ç¾æ€§ 30ç‚¹</li>
                  <li>é‹ç”¨é©åˆ 20ç‚¹</li>
                </ul>
              </div>
              <div class="section-title">è©•ä¾¡ç†ç”±</div>
              <pre>æˆæœç‰©ãŒæœªã‚³ãƒŸãƒƒãƒˆã§ã‚ã‚Šã€task ãƒ–ãƒ©ãƒ³ãƒã®å·®åˆ†ãŒå­˜åœ¨ã—ãªã„ã€‚
custom.properties å‚ç…§å¤±æ•—ã‚„ DLQ æµå…¥ãŒç™ºç”Ÿã—ã¦ãŠã‚Šã€ACK å®Ÿæ¸¬ã¯æœªå®Œäº†ã€‚
ã‚¿ã‚¹ã‚¯å¯¾è±¡ API ã‚‚ sendClaim ã§ã¯ãªã /karte/diagnosis/claim ã§ã‚ã‚Šã‚¹ã‚³ãƒ¼ãƒ—é€¸è„±ã€‚</pre>
              <div class="section-title">ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ï¼ˆmaster..branchï¼‰</div>
              <pre>ãªã—ï¼ˆmaster ã¨åŒä¸€ï¼‰</pre>
              <div class="section-title">å·®åˆ†æ¦‚è¦</div>
              <pre>å·®åˆ†ãªã—</pre>
              <div class="section-title">æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´</div>
              <pre>?? artifacts/orca-connectivity/20251226T121350Z/
?? src/server_modernized_gap_20251221/08_evidence_package/JMS_ORCA_ACK_æ¤œè¨¼.md
?? tmp/claim-tests/</pre>
              <div class="section-title">æˆæœç‰©ãƒªãƒ³ã‚¯</div>
              <pre><a href="../../.worktrees/task-1766751141241-bd2edc/src/server_modernized_gap_20251221/08_evidence_package/JMS_ORCA_ACK_æ¤œè¨¼.md">æœªã‚³ãƒŸãƒƒãƒˆ JMS_ORCA_ACK_æ¤œè¨¼.md</a></pre>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      (function () {
        const charts = document.querySelectorAll('.hex-chart');
        const baseAngles = [0, 60, 120, 180, 240, 300].map((deg) => (deg - 90) * (Math.PI / 180));
        charts.forEach((svg) => {
          const values = (svg.getAttribute('data-values') || '')
            .split(',')
            .map((v) => Math.max(0, Math.min(100, Number(v.trim()) || 0)));
          const size = 80;
          const center = 100;
          const ringSteps = [20, 40, 60, 80, 100];
          svg.innerHTML = '';

          ringSteps.forEach((step) => {
            const points = baseAngles
              .map((angle) => {
                const r = (size * step) / 100;
                const x = center + r * Math.cos(angle);
                const y = center + r * Math.sin(angle);
                return `${x},${y}`;
              })
              .join(' ');
            const poly = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            poly.setAttribute('points', points);
            poly.setAttribute('fill', 'none');
            poly.setAttribute('stroke', '#c4d3d7');
            poly.setAttribute('stroke-width', '1');
            svg.appendChild(poly);
          });

          baseAngles.forEach((angle) => {
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', center);
            line.setAttribute('y1', center);
            line.setAttribute('x2', center + size * Math.cos(angle));
            line.setAttribute('y2', center + size * Math.sin(angle));
            line.setAttribute('stroke', '#c4d3d7');
            line.setAttribute('stroke-width', '1');
            svg.appendChild(line);
          });

          const dataPoints = baseAngles
            .map((angle, idx) => {
              const value = values[idx] || 0;
              const r = (size * value) / 100;
              const x = center + r * Math.cos(angle);
              const y = center + r * Math.sin(angle);
              return `${x},${y}`;
            })
            .join(' ');

          const dataPolygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
          dataPolygon.setAttribute('points', dataPoints);
          dataPolygon.setAttribute('fill', 'rgba(59, 122, 150, 0.35)');
          dataPolygon.setAttribute('stroke', '#1b5f7a');
          dataPolygon.setAttribute('stroke-width', '2');
          svg.appendChild(dataPolygon);
        });
      })();
    </script>
  </body>
</html>
