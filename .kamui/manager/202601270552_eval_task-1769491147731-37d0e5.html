<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ: 08 è¿½åŠ  API å®Ÿç’°å¢ƒãƒ†ã‚¹ãƒˆ (task-1769491147731-37d0e5)</title>
    <style>
      body {
        font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.7;
        margin: 24px;
        background-color: #e9f0f2;
        color: #1f2a30;
      }
      .monitor-wrapper {
        max-width: 1280px;
        margin: 0 auto;
        padding: 32px;
        background: #ffffff;
        border: 1px solid #c4d3d7;
        box-shadow: 0 6px 18px rgba(31, 42, 48, 0.08);
      }
      .monitor-header {
        display: flex;
        flex-direction: column;
        gap: 6px;
        margin-bottom: 20px;
      }
      .monitor-title {
        font-size: 28px;
        font-weight: 800;
        letter-spacing: 0.02em;
        color: #1f2a30;
        margin: 0;
      }
      .monitor-description {
        font-size: 14px;
        color: #3a4b53;
        margin: 0;
      }
      .summary-card {
        border: 1px solid #c4d3d7;
        background: #f6fbfc;
        padding: 16px 18px;
        margin: 18px 0 24px;
      }
      .summary-card h2 {
        margin: 0 0 8px;
        font-size: 18px;
      }
      .totals {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin: 18px 0 26px;
      }
      .total-box {
        border: 1px solid #b8c9cd;
        background: #ffffff;
        padding: 16px;
      }
      .total-box h3 {
        margin: 0 0 6px;
        font-size: 15px;
        color: #2c3a40;
      }
      .total-score {
        font-size: 42px;
        font-weight: 900;
        margin: 0;
        color: #1f2a30;
      }
      .total-meta {
        font-size: 12px;
        color: #3a4b53;
        margin-top: 4px;
      }
      table.monitor-report {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      col.timestamp-column {
        width: 180px;
      }
      col.agent-column {
        width: calc((100% - 180px) / 2);
      }
      th,
      td {
        border: 1px solid #c4d3d7;
        padding: 16px;
        vertical-align: top;
        background-color: #ffffff;
      }
      th {
        background: #d8e6e9;
        text-align: left;
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: #2c3a40;
      }
      tbody tr:nth-child(even) td {
        background-color: #eef3f4;
      }
      .timestamp {
        font-weight: 700;
        color: #2c3a40;
      }
      .agent-meta {
        display: block;
        margin-bottom: 10px;
        line-height: 1.6;
      }
      .agent-label {
        display: inline;
        font-size: 14px;
        color: #2c3a40;
        font-weight: 700;
      }
      .status-badge {
        display: inline-block;
        font-size: 10px;
        font-weight: 800;
        letter-spacing: 0.02em;
        padding: 2px 8px;
        background: #d8e6e9;
        border: 1px solid #b8c9cd;
        color: #1f2a30;
        white-space: nowrap;
        line-height: 1.4;
        vertical-align: middle;
        margin-right: 6px;
      }
      .status-badge--good {
        background: #dff3e4;
        border-color: #b7e0c0;
      }
      .status-badge--warning {
        background: #fff4d9;
        border-color: #f5e8b8;
      }
      .chart-block {
        border: 1px solid #c4d3d7;
        background: #f7fbfc;
        padding: 12px;
        margin: 10px 0 14px;
      }
      .chart-title {
        font-weight: 800;
        font-size: 13px;
        margin: 0 0 6px;
        color: #2c3a40;
      }
      .metric-list {
        margin: 10px 0 0;
        padding-left: 18px;
        font-size: 13px;
      }
      .metric-list li {
        margin: 4px 0;
      }
      .evidence {
        border: 1px solid #c4d3d7;
        background: #ffffff;
        padding: 10px 12px;
        margin-top: 12px;
        font-size: 12px;
      }
      code,
      pre {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      }
      pre {
        white-space: pre-wrap;
        word-break: break-word;
        margin: 8px 0 0;
        font-size: 12px;
        line-height: 1.6;
        color: #1f2a30;
        background: #f2f6f7;
        border: 1px solid #c4d3d7;
        padding: 12px;
      }
      .note {
        font-size: 12px;
        color: #3a4b53;
        margin-top: 8px;
      }
      .links {
        margin-top: 8px;
        font-size: 13px;
      }
      .pill {
        display: inline-block;
        border: 1px solid #b8c9cd;
        background: #eef3f4;
        padding: 2px 8px;
        font-size: 11px;
        font-weight: 700;
        margin: 0 6px 6px 0;
      }
      .risk {
        border-left: 4px solid #e0a100;
        background: #fff8e6;
        padding: 8px 10px;
        margin-top: 10px;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ: 08 è¿½åŠ  API å®Ÿç’°å¢ƒãƒ†ã‚¹ãƒˆ</h1>
        <p class="monitor-description">
          å¯¾è±¡ãƒ–ãƒ©ãƒ³ãƒ: task/task-1769491147731-37d0e5 / è©•ä¾¡æ™‚åˆ»: 2026-01-27 05:51 UTC (RUN_ID=20260127T055134Z)
        </p>
      </header>

      <section class="summary-card">
        <h2>ã‚¿ã‚¹ã‚¯å†…å®¹ã¨è©•ä¾¡ã‚µãƒãƒª</h2>
        <div class="pill">å¯¾è±¡IC: IC-55</div>
        <div class="pill">æŒ‡ç¤º: Trialæœªç¢ºèªAPIã®localhostå®Ÿæ¸¬è¨¼è·¡åŒ–</div>
        <p>
          è¿½åŠ ã‚³ãƒŸãƒƒãƒˆã«ã‚ˆã‚Šã€localhost WebORCA ã§ã®å®Ÿæ¸¬è¨¼è·¡ï¼ˆrequests/responses/summaryï¼‰ã¨
          ã‚¿ã‚¹ã‚¯æ–‡æ›¸ãƒ»æ­£æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ãŒç¢ºèªã§ãã¾ã—ãŸã€‚ç‰¹ã«
          <code>patientmemomodv2</code> ã§ HTTP 200 / Api_Result=000 ã‚’è¨¼è·¡åŒ–ã§ãã¦ãŠã‚Šã€
          å®Œäº†æ¡ä»¶ã«å¯¾ã™ã‚‹é€²æ—ã¯å¤§ãã„ã§ã™ã€‚
        </p>
        <div class="risk">
          ä¸€æ–¹ã§ã€ä¾‹ç¤ºã•ã‚Œã¦ã„ã‚‹ <code>/orca/tensu/etensu</code> ã¯ localhost ã§ 404 ã®ãŸã‚ã€
          ã€ŒTrialæœªç¢ºèªAPIã®localhostæ­£å¸¸å¿œç­”ãŒè¨¼è·¡åŒ–ã•ã‚Œã‚‹ã€ã¨ã„ã†å®Œäº†æ¡ä»¶ã¸ã®é©åˆã¯
          patientmemomodv2 å´ã®é”æˆã«ä¾å­˜ã—ã¦ã„ã¾ã™ï¼ˆæ¡ä»¶ã¯æ¦‚ã­æº€ãŸã™ãŒã€etensuè‡ªä½“ã¯æœªé”ï¼‰ã€‚
        </div>
      </section>

      <section class="totals">
        <div class="total-box">
          <h3>ğŸ† åˆè¨ˆç‚¹ï¼ˆ600ç‚¹æº€ç‚¹ï¼‰: claude code / task-1769491147731-37d0e5</h3>
          <p class="total-score">ğŸ¥ˆ 490 / 600</p>
          <div class="total-meta">ç·åˆè©•ä¾¡: è¿½åŠ APIå®Ÿæ¸¬ã®è¨¼è·¡åŒ–ã‚’é”æˆï¼ˆãŸã ã—etensuæ­£å¸¸ç³»ã¯æœªç¢ºèªï¼‰</div>
        </div>
        <div class="total-box">
          <h3>ğŸ† åˆè¨ˆç‚¹ï¼ˆ600ç‚¹æº€ç‚¹ï¼‰: baseline(master) / task-1769491147731-37d0e5</h3>
          <p class="total-score">âšªï¸ 120 / 600</p>
          <div class="total-meta">æ¯”è¼ƒåŸºæº–: æœ¬ã‚¿ã‚¹ã‚¯ã«å¯¾ã™ã‚‹è¨¼è·¡å·®åˆ†ãªã—</div>
        </div>
      </section>

      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>AI: claude code / task-1769491147731-37d0e5</th>
            <th>AI: baseline(master) / task-1769491147731-37d0e5</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2026-01-27 05:51 UTC</td>
            <td>
              <div class="agent-meta">
                <span class="status-badge status-badge--good">é€²å±•å¤§</span>
                <span class="agent-label">å®Ÿæ¸¬è¨¼è·¡ã¨æ–‡æ›¸æ›´æ–°ã‚’ç¢ºèª</span>
              </div>

              <div class="chart-block">
                <p class="chart-title">6æŒ‡æ¨™ã‚µãƒãƒªï¼ˆå„100ç‚¹ / åˆè¨ˆ600ç‚¹ï¼‰</p>
                <svg class="radar" data-scores="85,90,75,70,80,90" width="320" height="220" viewBox="0 0 320 220" role="img" aria-label="claude code æŒ‡æ¨™ãƒãƒ£ãƒ¼ãƒˆ"></svg>
                <ul class="metric-list">
                  <li>æŒ‡ç¤ºå®Œé‚åº¦ 85ç‚¹: Trialæœªç¢ºèªAPIã®æ­£å¸¸å¿œç­”ï¼ˆpatientmemomodv2ï¼‰ã‚’è¨¼è·¡åŒ–</li>
                  <li>æ¤œè¨¼ãƒ»è¨¼è·¡ 90ç‚¹: requests/responses/status/summary ãŒä¸€å¼è¿½åŠ </li>
                  <li>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ 75ç‚¹: æ–‡æ›¸ä¸­å¿ƒã§è¿½è·¡æ€§ã¯é«˜ã„ãŒã€ç’°å¢ƒä¿®æ­£ï¼ˆFlywayæ”¹ç•ªï¼‰ã®å½±éŸ¿ã¯é‡ã„</li>
                  <li>å½±éŸ¿ç¯„å›²ç®¡ç† 70ç‚¹: V0233æ”¹ç•ªã¯å¦¥å½“ã ãŒã€é–¢é€£ã‚¿ã‚¹ã‚¯ã¸ã®æ³¢åŠãƒªã‚¹ã‚¯ã¯æ®‹ã‚‹</li>
                  <li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´åˆ 80ç‚¹: ã‚¿ã‚¹ã‚¯æ–‡æ›¸ã¨æ­£æœ¬ã«RUN_IDä»˜ãã§åæ˜ </li>
                  <li>ã‚³ãƒŸãƒƒãƒˆå“è³ª 90ç‚¹: ç›®çš„ã¨ä¿®æ­£å†…å®¹ãŒã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§æ˜ç­</li>
                </ul>
              </div>

              <div class="evidence">
                <strong>è©•ä¾¡æ ¹æ‹ ï¼ˆgit/log/diffï¼‰</strong>
                <pre>git log master..task/task-1769491147731-37d0e5 --oneline --decorate -n 30
051b888d6 (task/task-1769491147731-37d0e5) chore: fix flyway duplicate and record localhost ORCA evidence

git diff master..task/task-1769491147731-37d0e5 --stat
28 files changed, 368 insertions(+), 10 deletions(-)</pre>
                <div class="note">
                  ç‰¹ã«ä»¥ä¸‹ãŒæœ¬ã‚¿ã‚¹ã‚¯ã®å®Œäº†æ¡ä»¶ã«ç›´æ¥åŠ¹ã„ã¦ã„ã¾ã™ã€‚
                </div>
                <pre>ã‚¿ã‚¹ã‚¯æ–‡æ›¸:
src/orca_preprod_issue_catalog_resolution_20260123/09_test_data_validation/08_è¿½åŠ APIå®Ÿç’°å¢ƒãƒ†ã‚¹ãƒˆ.md

è¨¼è·¡ã‚µãƒãƒª:
artifacts/orca-preprod/20260127T052033Z/08-additional-api-live/summary.md

æ­£æœ¬åæ˜ :
docs/DEVELOPMENT_STATUS.md</pre>
                <div class="note">
                  patientmemomodv2 ã¯ HTTP 200 / Api_Result=000 ã‚’ç¢ºèªã€‚etensu ã¯ 404 ã ãŒã€
                  ã€ŒTrialæœªç¢ºèªAPIã®æ­£å¸¸å¿œç­”ã‚’è¨¼è·¡åŒ–ã€ã¨ã„ã†è¦³ç‚¹ã§ã¯æ¡ä»¶ã‚’æ¦‚ã­æº€ãŸã—ã¾ã™ã€‚
                </div>
              </div>
            </td>
            <td>
              <div class="agent-meta">
                <span class="status-badge status-badge--warning">åŸºæº–åˆ—</span>
                <span class="agent-label">master ã‚’æ¯”è¼ƒåŸºæº–ã¨ã—ã¦è¡¨ç¤º</span>
              </div>

              <div class="chart-block">
                <p class="chart-title">6æŒ‡æ¨™ã‚µãƒãƒªï¼ˆå„100ç‚¹ / åˆè¨ˆ600ç‚¹ï¼‰</p>
                <svg class="radar" data-scores="20,20,20,20,20,20" width="320" height="220" viewBox="0 0 320 220" role="img" aria-label="baseline æŒ‡æ¨™ãƒãƒ£ãƒ¼ãƒˆ"></svg>
                <ul class="metric-list">
                  <li>æŒ‡ç¤ºå®Œé‚åº¦ 20ç‚¹: æœ¬ã‚¿ã‚¹ã‚¯å˜ç‹¬ã®è¨¼è·¡ã¯æœªåæ˜ </li>
                  <li>æ¤œè¨¼ãƒ»è¨¼è·¡ 20ç‚¹: å®Ÿæ¸¬è¨¼è·¡å·®åˆ†ãªã—</li>
                  <li>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ 20ç‚¹: æ—¢å­˜å®‰å®šã ãŒå‰é€²ãªã—</li>
                  <li>å½±éŸ¿ç¯„å›²ç®¡ç† 20ç‚¹: å¤‰æ›´ãªã—</li>
                  <li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´åˆ 20ç‚¹: æœ¬ã‚¿ã‚¹ã‚¯è¦³ç‚¹ã®æ›´æ–°ãªã—</li>
                  <li>ã‚³ãƒŸãƒƒãƒˆå“è³ª 20ç‚¹: æœ¬ã‚¿ã‚¹ã‚¯å›ºæœ‰å±¥æ­´ãªã—</li>
                </ul>
              </div>

              <div class="evidence">
                <strong>æ¯”è¼ƒè¦³ç‚¹ãƒ¡ãƒ¢</strong>
                <pre>master å´ã«ã¯ã€08 è¿½åŠ  API å®Ÿç’°å¢ƒãƒ†ã‚¹ãƒˆã«ç´ã¥ã
localhostå®Ÿæ¸¬ã®è¨¼è·¡è¿½åŠ ã‚’ç¢ºèªã§ããªã„ã€‚</pre>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      (function () {
        function radarPoints(scores, cx, cy, r) {
          var pts = [];
          var n = scores.length;
          for (var i = 0; i < n; i += 1) {
            var ratio = Math.max(0, Math.min(100, scores[i])) / 100;
            var angle = (-Math.PI / 2) + (i * 2 * Math.PI) / n;
            var x = cx + Math.cos(angle) * r * ratio;
            var y = cy + Math.sin(angle) * r * ratio;
            pts.push(x.toFixed(2) + "," + y.toFixed(2));
          }
          return pts.join(" ");
        }

        function axisPoints(n, cx, cy, r) {
          var axes = [];
          for (var i = 0; i < n; i += 1) {
            var angle = (-Math.PI / 2) + (i * 2 * Math.PI) / n;
            var x = cx + Math.cos(angle) * r;
            var y = cy + Math.sin(angle) * r;
            axes.push({ x: x, y: y });
          }
          return axes;
        }

        function polygon(pts, fill, stroke) {
          return '<polygon points="' + pts + '" fill="' + fill + '" stroke="' + stroke + '" stroke-width="1.5"></polygon>';
        }

        var charts = document.querySelectorAll("svg.radar");
        charts.forEach(function (svg) {
          var raw = svg.getAttribute("data-scores") || "0,0,0,0,0,0";
          var scores = raw.split(",").map(function (v) {
            return parseFloat(v.trim()) || 0;
          });
          var cx = 110;
          var cy = 110;
          var r = 80;
          var levels = [0.25, 0.5, 0.75, 1];
          var n = scores.length;
          var axes = axisPoints(n, cx, cy, r);

          var grid = "";
          levels.forEach(function (lv) {
            var pts = axes
              .map(function (_, i) {
                var angle = (-Math.PI / 2) + (i * 2 * Math.PI) / n;
                var x = cx + Math.cos(angle) * r * lv;
                var y = cy + Math.sin(angle) * r * lv;
                return x.toFixed(2) + "," + y.toFixed(2);
              })
              .join(" ");
            grid += '<polygon points="' + pts + '" fill="none" stroke="#d0dde0" stroke-width="1"></polygon>';
          });

          var axisLines = axes
            .map(function (p) {
              return '<line x1="' + cx + '" y1="' + cy + '" x2="' + p.x.toFixed(2) + '" y2="' + p.y.toFixed(2) + '" stroke="#c4d3d7" stroke-width="1"></line>';
            })
            .join("");

          var dataPoly = polygon(radarPoints(scores, cx, cy, r), "rgba(11,92,171,0.28)", "#0b5cab");

          var labels = ["å®Œé‚åº¦", "è¨¼è·¡", "ãƒ¡ãƒ³ãƒ†æ€§", "å½±éŸ¿ç®¡ç†", "æ–‡æ›¸æ•´åˆ", "ã‚³ãƒŸãƒƒãƒˆ"];
          var labelEls = axes
            .map(function (p, i) {
              var dx = p.x - cx;
              var dy = p.y - cy;
              var lx = cx + dx * 1.18;
              var ly = cy + dy * 1.18;
              return '<text x="' + lx.toFixed(2) + '" y="' + ly.toFixed(2) + '" font-size="11" text-anchor="middle" fill="#2c3a40">' + labels[i] + '</text>';
            })
            .join("");

          var total = scores.reduce(function (a, b) {
            return a + b;
          }, 0);

          svg.innerHTML =
            '<rect x="0" y="0" width="320" height="220" fill="#f7fbfc"></rect>' +
            '<g transform="translate(10,0)">' +
            grid +
            axisLines +
            dataPoly +
            labelEls +
            "</g>" +
            '<text x="230" y="36" font-size="12" fill="#2c3a40" font-weight="700">åˆè¨ˆ: ' + total + ' / 600</text>';
        });
      })();
    </script>
  </body>
</html>
