[
  {
    "id": "task-yaml-1cgufxm-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 11_監査ログauditEvent統一\n期間: 12/22 09:00 - 12/24 09:00 / 優先度: high / 緊急度: medium / エージェント: claude code\n\n# 11 監査ログ（auditEvent）統一\n\n- Charts の UI 操作を `auditEvent` の語彙に揃え、重要操作（患者切替/送信/終了/印刷/失敗）を “必ず” 記録する。\n- `runId/dataSource/cacheHit/missingMaster/fallbackUsed/dataSourceTransition` を details に統一して透過し、監査ログと UI 表示が乖離しないことを DoD にする。\n- 監査ログの “個人情報” を最小化しつつ、追跡可能性（traceId/requestId）を確保するルールを整備する。\n\nYAML ID: src/charts_production_outpatient/foundation/11_監査ログauditEvent統一.md",
    "model": "YAML App",
    "status": "pending",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-12T21:52:18.409Z",
    "updatedAt": "2025-12-12T21:52:18.409Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-1cgufxm-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/foundation/11_監査ログauditEvent統一.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/foundation/11_監査ログauditEvent統一.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-12T21:52:18.395Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient / foundation"
    ],
    "dependencies": [
      "task-yaml-1wjwxd-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1766361600000,
      "endMs": 1766534400000,
      "durationDays": 2
    },
    "category": "src / charts_production_outpatient / foundation",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 11 監査ログ（auditEvent）統一\n\n- Charts の UI 操作を `auditEvent` の語彙に揃え、重要操作（患者切替/送信/終了/印刷/失敗）を “必ず” 記録する。\n- `runId/dataSource/cacheHit/missingMaster/fallbackUsed/dataSourceTransition` を details に統一して透過し、監査ログと UI 表示が乖離しないことを DoD にする。\n- 監査ログの “個人情報” を最小化しつつ、追跡可能性（traceId/requestId）を確保するルールを整備する。"
  },
  {
    "id": "task-yaml-dvnr5t-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 10_セッションと権限ガード整理\n期間: 12/22 09:00 - 12/24 09:00 / 優先度: high / 緊急度: medium / エージェント: codex\n\n# 10 セッションと権限ガード整理\n\n- Charts 内のアクション（診療終了/ORCA送信/患者編集/印刷）を権限でガードし、権限不足は disabled＋理由（ツールチップ/aria-describedby）で提示する。\n- セッション切れ/施設不一致/ユーザー変更時に、Charts の状態（runId、選択患者、ドラフト）を安全に破棄してログアウトへ誘導する。\n- 監査上の “誰が・いつ・どの runId で” を UI に必ず表示できるよう、Topbar/ヘッダの表示要件を確定する。\n\nYAML ID: src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md",
    "model": "YAML App",
    "status": "pending",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-12T21:52:15.666Z",
    "updatedAt": "2025-12-12T21:52:15.666Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-dvnr5t-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-12T21:52:15.363Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient / foundation"
    ],
    "dependencies": [
      "task-yaml-1wjwxd-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1766361600000,
      "endMs": 1766534400000,
      "durationDays": 2
    },
    "category": "src / charts_production_outpatient / foundation",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 10 セッションと権限ガード整理\n\n- Charts 内のアクション（診療終了/ORCA送信/患者編集/印刷）を権限でガードし、権限不足は disabled＋理由（ツールチップ/aria-describedby）で提示する。\n- セッション切れ/施設不一致/ユーザー変更時に、Charts の状態（runId、選択患者、ドラフト）を安全に破棄してログアウトへ誘導する。\n- 監査上の “誰が・いつ・どの runId で” を UI に必ず表示できるよう、Topbar/ヘッダの表示要件を確定する。"
  },
  {
    "id": "task-yaml-1wjwxd-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 03_モダナイズ外来API契約テーブル確定\n期間: 12/19 09:00 - 12/21 09:00 / 優先度: high / 緊急度: medium / エージェント: cursor cli\n\n# 03 モダナイズ外来 API 契約テーブル確定\n\n- `docs/web-client/architecture/web-client-api-mapping.md` をベースに、Charts が直接/間接に使う外来 API を “呼び出し条件・ヘッダ(runId 等)・監査(details)・UI 表示” まで確定させる。\n- `dataSourceTransition/cacheHit/missingMaster/fallbackUsed/traceId` を UI と auditEvent に **透過** するルールを Charts 観点で固め、エラー時の再試行/ガード（送信不可等）に反映する。\n- ここで確定した契約は以降の Playwright シナリオ/フィクスチャの単一ソースとして扱う。\n\nYAML ID: src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md",
    "model": "YAML App",
    "status": "completed",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-12T14:33:54.226Z",
    "updatedAt": "2025-12-12T21:51:38.446Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-1wjwxd-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-12T14:33:53.954Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient"
    ],
    "dependencies": [
      "task-yaml-10bjkhv-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1766102400000,
      "endMs": 1766275200000,
      "durationDays": 2
    },
    "category": "src / charts_production_outpatient",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 03 モダナイズ外来 API 契約テーブル確定\n\n- `docs/web-client/architecture/web-client-api-mapping.md` をベースに、Charts が直接/間接に使う外来 API を “呼び出し条件・ヘッダ(runId 等)・監査(details)・UI 表示” まで確定させる。\n- `dataSourceTransition/cacheHit/missingMaster/fallbackUsed/traceId` を UI と auditEvent に **透過** するルールを Charts 観点で固め、エラー時の再試行/ガード（送信不可等）に反映する。\n- ここで確定した契約は以降の Playwright シナリオ/フィクスチャの単一ソースとして扱う。"
  },
  {
    "id": "task-yaml-10bjkhv-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 02_ChartsPage現状棚卸しとギャップ\n期間: 12/17 09:00 - 12/19 09:00 / 優先度: high / 緊急度: medium / エージェント: gemini cli\n\n# 02 ChartsPage 現状棚卸しとギャップ\n\n- `docs/web-client/planning/phase2/WEB_CLIENT_IMPLEMENTATION_PLAN.md` と実装（`web-client/src/features/charts/*`）を突き合わせ、未実装/未統合の UI・フロー・監査項目を列挙する。\n- 重要ギャップを「P0: 運用不可」「P1: 運用に支障」「P2: 品質改善」に分類し、以降タスクの優先度に反映する。\n- Charts に閉じない依存（Reception/Patients/Administration）を “入口/出口” として明示し、責務分離（Chart 内で完結すること/別画面に委譲すること）を決める。\n\nYAML ID: src/charts_production_outpatient/02_ChartsPage現状棚卸しとギャップ.md",
    "model": "YAML App",
    "status": "completed",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-12T13:37:44.533Z",
    "updatedAt": "2025-12-12T14:33:47.086Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-10bjkhv-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/02_ChartsPage現状棚卸しとギャップ.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/02_ChartsPage現状棚卸しとギャップ.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-12T13:37:44.512Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient"
    ],
    "dependencies": [
      "task-yaml-y6z02w-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1765929600000,
      "endMs": 1766102400000,
      "durationDays": 2
    },
    "category": "src / charts_production_outpatient",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 02 ChartsPage 現状棚卸しとギャップ\n\n- `docs/web-client/planning/phase2/WEB_CLIENT_IMPLEMENTATION_PLAN.md` と実装（`web-client/src/features/charts/*`）を突き合わせ、未実装/未統合の UI・フロー・監査項目を列挙する。\n- 重要ギャップを「P0: 運用不可」「P1: 運用に支障」「P2: 品質改善」に分類し、以降タスクの優先度に反映する。\n- Charts に閉じない依存（Reception/Patients/Administration）を “入口/出口” として明示し、責務分離（Chart 内で完結すること/別画面に委譲すること）を決める。"
  },
  {
    "id": "task-yaml-y6z02w-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 01_外来機能の完全カバレッジ定義\n期間: 12/16 09:00 - 12/17 09:00 / 優先度: high / 緊急度: medium / エージェント: claude code\n\n# 01 外来機能の完全カバレッジ定義（商用カルテ品質のゴール）\n\n- 「Charts（電子カルテ画面）」を **実運用できる品質** まで引き上げるため、モダナイズ版サーバーの外来機能（予約/請求/外来医療記録/患者更新/設定配信/キュー）の UI カバレッジを “漏れなく” 一覧化する。\n- “市販カルテ相当” の要件として、監査（auditEvent/操作ログ）、アクセシビリティ（ARIA + 重要通知）、運用（障害時表示/再試行/フィクスチャ運用）を Charts の DoD に含める。\n- 本ガントの成果物は「外来: 受付→診療→会計」の経路を Charts 観点で完走できること（Reception からの遷移・患者編集・ORCA送信・状態遷移・印刷/出力）。\n\nYAML ID: src/charts_production_outpatient/01_外来機能の完全カバレッジ定義.md",
    "model": "YAML App",
    "status": "completed",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-12T13:06:46.672Z",
    "updatedAt": "2025-12-12T13:55:30.413Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-y6z02w-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/01_外来機能の完全カバレッジ定義.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/01_外来機能の完全カバレッジ定義.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-12T13:06:46.647Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient"
    ],
    "dependencies": [
      "task-yaml-1njz40q-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1765843200000,
      "endMs": 1765929600000,
      "durationDays": 1
    },
    "category": "src / charts_production_outpatient",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 01 外来機能の完全カバレッジ定義（商用カルテ品質のゴール）\n\n- 「Charts（電子カルテ画面）」を **実運用できる品質** まで引き上げるため、モダナイズ版サーバーの外来機能（予約/請求/外来医療記録/患者更新/設定配信/キュー）の UI カバレッジを “漏れなく” 一覧化する。\n- “市販カルテ相当” の要件として、監査（auditEvent/操作ログ）、アクセシビリティ（ARIA + 重要通知）、運用（障害時表示/再試行/フィクスチャ運用）を Charts の DoD に含める。\n- 本ガントの成果物は「外来: 受付→診療→会計」の経路を Charts 観点で完走できること（Reception からの遷移・患者編集・ORCA送信・状態遷移・印刷/出力）。"
  },
  {
    "id": "task-1765544767864-1c2d0f",
    "name": "[webclient charts production outpatient plan] 00_RUN_IDと参照チェーン\n期間: 12/15 09:00 - 12/16 09:00 / 優先度: high / 緊急度: high / エージェント: codex\n\n# 00 RUN_ID と参照チェーン\n\n- 本ガントの実行開始時に RUN_ID を `YYYYMMDDThhmmssZ` で採番し、以降の証跡・DOC_STATUS・ログに同一値を使う。\n- 参照チェーン: `AGENTS.md` → `docs/web-client/README.md` → `docs/server-modernization/phase2/INDEX.md` → `docs/managerdocs/PHASE2_WEB_CLIENT_EXPERIENCE_MANAGER_CHECKLIST.md` → 本ガント。\n- ローカル検証は `WEB_CLIENT_MODE=npm ./setup-modernized-env.sh` を前提に、ログイン情報は `setup-modernized-env.sh` 記載のものを使用する。\n\nYAML ID: src/charts_production_outpatient/00_RUN_IDと参照チェーン.md",
    "model": "YAML App",
    "status": "completed",
    "importance": "medium",
    "urgency": "medium",
    "createdAt": "2025-12-12T13:06:07.864Z",
    "updatedAt": "2025-12-12T13:15:16.461Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": null,
    "baseBranch": null,
    "useTmux": false,
    "singleMode": true,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null
  },
  {
    "id": "task-1765579062064-569df2",
    "name": "対象ファイル: .kamui/apps/webclient-charts-production-outpatient-plan.yaml\n\n進捗更新して",
    "model": "Codex CLI",
    "status": "running",
    "importance": "medium",
    "urgency": "medium",
    "createdAt": "2025-12-12T22:37:42.064Z",
    "updatedAt": "2025-12-12T22:37:42.230Z",
    "requiresTerminal": true,
    "createWorktree": false,
    "branchName": null,
    "baseBranch": null,
    "useTmux": false,
    "singleMode": true,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null
  }
]