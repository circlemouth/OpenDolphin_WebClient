[
  {
    "id": "task-yaml-1cgufxm-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 11_監査ログauditEvent統一\n期間: 12/22 09:00 - 12/24 09:00 / 優先度: high / 緊急度: medium / エージェント: claude code\n\n# 11 監査ログ（auditEvent）統一\n\n- Charts の UI 操作を `auditEvent` の語彙に揃え、重要操作（患者切替/送信/終了/印刷/失敗）を “必ず” 記録する。\n- `runId/dataSource/cacheHit/missingMaster/fallbackUsed/dataSourceTransition` を details に統一して透過し、監査ログと UI 表示が乖離しないことを DoD にする。\n- 監査ログの “個人情報” を最小化しつつ、追跡可能性（traceId/requestId）を確保するルールを整備する。\n\nYAML ID: src/charts_production_outpatient/foundation/11_監査ログauditEvent統一.md",
    "model": "Codex CLI",
    "status": "completed",
    "importance": "high",
    "urgency": "medium",
    "branchName": "task/task-yaml-1cgufxm-src-charts-produ",
    "baseBranch": "main",
    "worktreePath": null,
    "createWorktree": false,
    "createdAt": "2025-12-16T09:19:43.685Z",
    "updatedAt": "2025-12-16T10:06:36.145Z",
    "requiresTerminal": false,
    "bookmarked": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "autoEvaluationNotBefore": null,
    "useTmux": false,
    "taskType": "yaml-plan",
    "modelId": null,
    "latestVersion": null,
    "currentVersion": null,
    "installSteps": [],
    "installCommand": null,
    "createdAutomatically": false,
    "dependencies": [
      "task-yaml-1wjwxd-src-charts-produ"
    ]
  },
  {
    "id": "task-yaml-z1w4ij-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 12_エラーハンドリングとリトライ規約\n期間: 12/24 09:00 - 12/26 09:00 / 優先度: high / 緊急度: medium / エージェント: cursor cli\n\n# 12 エラーハンドリングとリトライ規約\n\n- API 失敗（timeout/4xx/5xx/スキーマ不一致）を “運用で困らない” 表示に統一し、再試行/回復導線を明示する。\n- `missingMaster=true` のときは送信・編集をブロックし、ToneBanner（warning/aria-live=assertive）で理由と次アクションを提示する。\n- 画面全体の ErrorBoundary と、パネル単位の “部分失敗” 表示の使い分けを確定する。\n- 関連ドキュメント（`src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md`、`src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md`、`docs/web-client/planning/phase2/logs/20251217T125828Z-charts-error-handling.md`）の参照リンクを現行名称に更新し、3 章/10 章の要件と本タスクの成果物を整合させる。\n\nYAML ID: src/charts_production_outpatient/foundation/12_エラーハンドリングとリトライ規約.md",
    "model": "YAML App",
    "status": "pending",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-17T05:30:54.782Z",
    "updatedAt": "2025-12-17T05:30:54.782Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-z1w4ij-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/foundation/12_エラーハンドリングとリトライ規約.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/foundation/12_エラーハンドリングとリトライ規約.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-17T05:30:54.664Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient / foundation"
    ],
    "dependencies": [
      "task-yaml-1wjwxd-src-charts-produ",
      "task-yaml-dvnr5t-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1766534400000,
      "endMs": 1766707200000,
      "durationDays": 2
    },
    "category": "src / charts_production_outpatient / foundation",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 12 エラーハンドリングとリトライ規約\n\n- API 失敗（timeout/4xx/5xx/スキーマ不一致）を “運用で困らない” 表示に統一し、再試行/回復導線を明示する。\n- `missingMaster=true` のときは送信・編集をブロックし、ToneBanner（warning/aria-live=assertive）で理由と次アクションを提示する。\n- 画面全体の ErrorBoundary と、パネル単位の “部分失敗” 表示の使い分けを確定する。\n- 関連ドキュメント（`src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md`、`src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md`、`docs/web-client/planning/phase2/logs/20251217T125828Z-charts-error-handling.md`）の参照リンクを現行名称に更新し、3 章/10 章の要件と本タスクの成果物を整合させる。"
  },
  {
    "id": "task-1765949462217-a1eba9",
    "name": "CodexCLI1: [webclient charts production outpatient plan] 12_エラーハンドリングとリトライ規約\n期間: 12/24 09:00 - 12/26 09:00 / 優先度: high / 緊急度: medium / エージェント: cursor cli\n\n# 12 エラーハンドリングとリトライ規約\n\n- API 失敗（timeout/4xx/5xx/スキーマ不一致）を “運用で困らない” 表示に統一し、再試行/回復導線を明示する。\n- `missingMaster=true` のときは送信・編集をブロックし、ToneBanner（warning/aria-live=assertive）で理由と次アクションを提示する。\n- 画面全体の ErrorBoundary と、パネル単位の “部分失敗” 表示の使い分けを確定する。\n- 関連ドキュメント（`src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md`、`src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md`、`docs/web-client/planning/phase2/logs/20251217T125828Z-charts-error-handling.md`）の参照リンクを現行名称に更新し、3 章/10 章の要件と本タスクの成果物を整合させる。\n\nYAML ID: src/charts_production_outpatient/foundation/12_エラーハンドリングとリトライ規約.md",
    "model": "Codex CLI",
    "status": "running",
    "importance": "medium",
    "urgency": "medium",
    "createdAt": "2025-12-17T05:31:02.217Z",
    "updatedAt": "2025-12-17T05:31:06.463Z",
    "requiresTerminal": true,
    "createWorktree": true,
    "branchName": "task/task-1765949462217-a1eba9",
    "baseBranch": "master",
    "useTmux": true,
    "singleMode": false,
    "aiCompetitionEntry": true,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": "comp-1765949462216-9wpyvvi8",
    "aiCompetitionGroupName": "[webclient charts production outpatient plan] 12_エラーハンドリングとリトライ規約\n期間: 12/24 09:00 - 12/26 09:00 / 優先度: high / 緊急度: medium / エージェント: cursor cli\n\n# 12 エラーハンドリングとリトライ規約\n\n- API 失敗（timeout/4xx/5xx/スキーマ不一致）を “運用で困らない” 表示に統一し、再試行/回復導線を明示する。\n- `missingMaster=true` のときは送信・編集をブロックし、ToneBanner（warning/aria-live=assertive）で理由と次アクションを提示する。\n- 画面全体の ErrorBoundary と、パネル単位の “部分失敗” 表示の使い分けを確定する。\n- 関連ドキュメント（`src/charts_production_outpatient/03_モダナイズ外来API契約テーブル確定.md`、`src/charts_production_outpatient/foundation/10_セッションと権限ガード整理.md`、`docs/web-client/planning/phase2/logs/20251217T125828Z-charts-error-handling.md`）の参照リンクを現行名称に更新し、3 章/10 章の要件と本タスクの成果物を整合させる。\n\nYAML ID: src/charts_production_outpatient/foundation/12_エラーハンドリングとリトライ規約.md",
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "worktreePath": ".worktrees/task-1765949462217-a1eba9",
    "medal": "gold",
    "aiCompetitionScore": 90
  },
  {
    "id": "task-yaml-1nb9snm-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 13_データ取得レイヤの統一_fetchWithResolver\n期間: 12/26 09:00 - 12/29 09:00 / 優先度: high / 緊急度: medium / エージェント: codex\n\n# 13 データ取得レイヤの統一（fetchWithResolver）\n\n- Charts で使う “外来 API 呼び出し” を `fetchWithResolver`/`resolveMasterSource` の方針に統一し、dataSource 系メタデータを漏れなく付与する。\n- React Query のキャッシュ判定（cacheHit）と強制リフェッチ（retry）を、UI 表示（Pill/Badge）と監査ログに同期させる。\n- API ごとの変換（DTO→ViewModel）を 1 箇所に集約し、スキーマ差異の吸収ポイントを明確化する。\n\nYAML ID: src/charts_production_outpatient/foundation/13_データ取得レイヤの統一_fetchWithResolver.md",
    "model": "YAML App",
    "status": "pending",
    "importance": "high",
    "urgency": "medium",
    "createdAt": "2025-12-17T05:44:50.213Z",
    "updatedAt": "2025-12-17T05:44:50.213Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-1nb9snm-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/foundation/13_データ取得レイヤの統一_fetchWithResolver.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/foundation/13_データ取得レイヤの統一_fetchWithResolver.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-17T05:44:50.075Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient / foundation"
    ],
    "dependencies": [
      "task-yaml-1cgufxm-src-charts-produ",
      "task-yaml-z1w4ij-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1766707200000,
      "endMs": 1766966400000,
      "durationDays": 3
    },
    "category": "src / charts_production_outpatient / foundation",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 13 データ取得レイヤの統一（fetchWithResolver）\n\n- Charts で使う “外来 API 呼び出し” を `fetchWithResolver`/`resolveMasterSource` の方針に統一し、dataSource 系メタデータを漏れなく付与する。\n- React Query のキャッシュ判定（cacheHit）と強制リフェッチ（retry）を、UI 表示（Pill/Badge）と監査ログに同期させる。\n- API ごとの変換（DTO→ViewModel）を 1 箇所に集約し、スキーマ差異の吸収ポイントを明確化する。"
  },
  {
    "id": "task-yaml-v2iy1d-src-charts-produ",
    "name": "[webclient charts production outpatient plan] 20_ChartsシェルUI最終レイアウト\n期間: 01/02 09:00 - 01/05 09:00 / 優先度: high / 緊急度: low / エージェント: claude code\n\n# 20 Charts シェル UI 最終レイアウト\n\n- `charts-claim-ui-policy.md` のレイアウト比率・トーン要件に沿って、ヘッダ/アクションバー/左右ペイン/本文の最終レイアウトを確定する。\n- “重要情報（患者・受付ID・保険/自費・runId・dataSourceTransition）” を常時視認できる配置に統一する。\n- 狭い画面/大きい画面の振る舞い（折りたたみ・固定）を確定し、操作回数を最小化する。\n\nYAML ID: src/charts_production_outpatient/ux/20_ChartsシェルUI最終レイアウト.md",
    "model": "YAML App",
    "status": "pending",
    "importance": "high",
    "urgency": "low",
    "createdAt": "2025-12-17T05:45:10.051Z",
    "updatedAt": "2025-12-17T05:45:10.051Z",
    "requiresTerminal": false,
    "createWorktree": false,
    "branchName": "task/task-yaml-v2iy1d-src-charts-produ",
    "baseBranch": "main",
    "useTmux": false,
    "singleMode": false,
    "aiCompetitionEntry": false,
    "aiCompetitionResult": null,
    "aiCompetitionGroupId": null,
    "aiCompetitionGroupName": null,
    "aiCompetitionMonitor": false,
    "monitorTargets": null,
    "scoringConfig": null,
    "yamlSource": {
      "key": "custom-app-webclient-charts-production-outpatie-72508e9d7a::src/charts_production_outpatient/ux/20_ChartsシェルUI最終レイアウト.md",
      "appId": "custom-app-webclient-charts-production-outpatie-72508e9d7a",
      "datasetLabel": "webclient charts production outpatient plan",
      "pathId": "src/charts_production_outpatient/ux/20_ChartsシェルUI最終レイアウト.md",
      "fileName": "webclient-charts-production-outpatient-plan.yaml",
      "absolutePath": "/Users/Hayato/Documents/GitHub/OpenDolphin_WebClient/.kamui/apps/webclient-charts-production-outpatient-plan.yaml",
      "addedAt": "2025-12-17T05:45:10.042Z"
    },
    "labels": [
      "webclient charts production outpatient plan",
      "src / charts_production_outpatient / ux"
    ],
    "dependencies": [
      "task-yaml-1nb9snm-src-charts-produ"
    ],
    "schedule": {
      "startMs": 1767312000000,
      "endMs": 1767571200000,
      "durationDays": 3
    },
    "category": "src / charts_production_outpatient / ux",
    "taskType": "yaml-plan",
    "source": "yaml-app",
    "description": "# 20 Charts シェル UI 最終レイアウト\n\n- `charts-claim-ui-policy.md` のレイアウト比率・トーン要件に沿って、ヘッダ/アクションバー/左右ペイン/本文の最終レイアウトを確定する。\n- “重要情報（患者・受付ID・保険/自費・runId・dataSourceTransition）” を常時視認できる配置に統一する。\n- 狭い画面/大きい画面の振る舞い（折りたたみ・固定）を確定し、操作回数を最小化する。"
  }
]